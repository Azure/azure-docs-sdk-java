### YamlMime:JavaPackage
uid: "com.azure.messaging.servicebus.administration"
fullName: "com.azure.messaging.servicebus.administration"
name: "com.azure.messaging.servicebus.administration"
summary: "<p>The Azure Service Bus Administration client library allows for management of entities in their Service Bus\n namespace."
classes:
- "com.azure.messaging.servicebus.administration.ServiceBusAdministrationAsyncClient"
- "com.azure.messaging.servicebus.administration.ServiceBusAdministrationClient"
- "com.azure.messaging.servicebus.administration.ServiceBusAdministrationClientBuilder"
- "com.azure.messaging.servicebus.administration.ServiceBusSupplementaryAuthHeaderPolicy"
desc: "<p>The Azure Service Bus Administration client library allows for management of entities in their Service Bus\n namespace.  It can be used to create, delete, update, or list queues, topics, rules, and subscriptions.</p>\n\n <p><a href=\"https://docs.microsoft.com/azure/service-bus-messaging\">Microsoft Azure Service Bus</a> is a fully\n managed enterprise integration message broker. Service Bus can decouple applications and services. Service Bus\n offers a reliable and secure platform for asynchronous transfer of data and state. Data is transferred between\n different applications and services using messages.</p>\n\n <h2>Key Concepts</h2>\n\n <ul>\n     <li><strong>\n     <a href=\"https://docs.microsoft.com/azure/service-bus-messaging/service-bus-messaging-overview#queues\">Queue</a>\n     :</strong>  Allows for the sending and receiving of messages, ordered first-in-first-out (FIFO).  It is often\n     used for point to point communication.</li>\n\n     <li><strong>\n     <a href=\"https://docs.microsoft.com/azure/service-bus-messaging/service-bus-messaging-overview#topics\">Topic</a>\n     :</strong>  Allows for sending messages to multiple receivers, simultaneously.  This is suited for publisher and\n     subscriber scenarios.</li>\n\n     <li><strong>\n     <a href=\"https://docs.microsoft.com/azure/service-bus-messaging/service-bus-queues-topics-subscriptions#topics-and-subscriptions\">\n     Subscription</a>:</strong>  Receives messages from a topic.  Each subscription is independent and receives a\n     copy of every message sent to the topic.  Each subscription has a filter.  Filters, also known as rules, are\n     applied to each message to determine whether they will be published to the subscription.</li>\n\n     <li><strong>Rule Filters:</strong>  A filter, associated with a subscription, that is tested against every\n     message sent to a Service Bus topic.  If the filter returns true, a copy of the message is published to that\n     subscription.  There are 3 types of filters: SQL filters, boolean filters, and correlation filters.  More\n     information can be found in: <a href=\"https://learn.microsoft.com/azure/service-bus-messaging/topic-filters\">\n         Topic filters</a>.</li>\n\n     <li><strong><a href=\"https://learn.microsoft.com/azure/service-bus-messaging/topic-filters#actions\">Rule Actions\n     </a>:</strong> A modification applied to a Service Bus message when it matches the associated rule filter.</li>\n </ul>\n\n <h2>Getting Started</h2>\n\n <p>Service clients are the point of interaction for developers to use Azure Service Bus.\n <xref uid=\"com.azure.messaging.servicebus.administration.ServiceBusAdministrationClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.messaging.servicebus.administration.ServiceBusAdministrationClient\"></xref> and\n <xref uid=\"com.azure.messaging.servicebus.administration.ServiceBusAdministrationAsyncClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.messaging.servicebus.administration.ServiceBusAdministrationAsyncClient\"></xref> are the sync and async\n clients for managing entities in the Service Bus namespace.</p>\n\n <p>The examples shown in this document use a credential object named DefaultAzureCredential for authentication,\n which is appropriate for most scenarios, including local development and production environments. Additionally, we\n recommend using\n <a href=\"https://learn.microsoft.com/azure/active-directory/managed-identities-azure-resources/\">managed identity</a>\n for authentication in production environments. You can find more information on different ways of authenticating and\n their corresponding credential types in the\n <a href=\"https://learn.microsoft.com/java/api/overview/azure/identity-readme\">Azure Identity documentation</a>.\n </p>\n\n <h3>Creating clients</h3>\n\n <p><strong>Sample: Create a ServiceBusAdministrationClient</strong></p>\n\n <p>The following code sample demonstrates the creation of the synchronous administration client.</p>\n\n <!-- src_embed com.azure.messaging.servicebus.administration.servicebusadministrationclient.instantiation -->\n <pre>\n HttpLogOptions logOptions = new HttpLogOptions&#40;&#41;\n     .setLogLevel&#40;HttpLogDetailLevel.HEADERS&#41;;\n\n &#47;&#47; DefaultAzureCredential creates a credential based on the environment it is executed in.\n TokenCredential tokenCredential = new DefaultAzureCredentialBuilder&#40;&#41;.build&#40;&#41;;\n\n &#47;&#47; 'fullyQualifiedNamespace' will look similar to &quot;&#123;your-namespace&#125;.servicebus.windows.net&quot;\n ServiceBusAdministrationClient client = new ServiceBusAdministrationClientBuilder&#40;&#41;\n     .credential&#40;fullyQualifiedNamespace, tokenCredential&#41;\n     .httpLogOptions&#40;logOptions&#41;\n     .buildClient&#40;&#41;;\n </pre>\n <!-- end com.azure.messaging.servicebus.administration.servicebusadministrationclient.instantiation -->\n\n <h3>Managing queues</h3>\n\n <p><strong>Sample: Create a queue</strong></p>\n\n <p>The following code sample demonstrates the creation of a Service Bus queue with some configured options.  If\n <xref uid=\"com.azure.messaging.servicebus.administration.models.CreateQueueOptions\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.messaging.servicebus.administration.models.CreateQueueOptions\"></xref> are not passed in, default values\n are used to create the queue.</p>\n\n <!-- src_embed com.azure.messaging.servicebus.administration.servicebusadministrationclient.createqueue#string-createqueueoptions -->\n <pre>\n CreateQueueOptions queueOptions = new CreateQueueOptions&#40;&#41;\n     .setLockDuration&#40;Duration.ofMinutes&#40;2&#41;&#41;\n     .setMaxDeliveryCount&#40;15&#41;;\n\n QueueProperties queue = client.createQueue&#40;&quot;my-new-queue&quot;, queueOptions&#41;;\n System.out.printf&#40;&quot;Queue created. Name: %s. Lock Duration: %s.%n&quot;,\n     queue.getName&#40;&#41;, queue.getLockDuration&#40;&#41;&#41;;\n </pre>\n <!-- end com.azure.messaging.servicebus.administration.servicebusadministrationclient.createqueue#string-createqueueoptions -->\n\n <p><strong>Sample: Update a queue</strong></p>\n\n <p>The following code sample demonstrates updating a Service bus queue.  Users should fetch the queue's properties,\n modify the properties, and then pass the object to update method.</p>\n\n <!-- src_embed com.azure.messaging.servicebus.administration.servicebusadministrationclient.updatequeue -->\n <pre>\n QueueProperties queue = client.getQueue&#40;&quot;queue-that-exists&quot;&#41;;\n\n queue.setLockDuration&#40;Duration.ofMinutes&#40;3&#41;&#41;\n     .setMaxDeliveryCount&#40;15&#41;\n     .setDeadLetteringOnMessageExpiration&#40;true&#41;;\n\n QueueProperties updatedQueue = client.updateQueue&#40;queue&#41;;\n\n System.out.printf&#40;&quot;Queue updated. Name: %s. Lock duration: %s. Max delivery count: %s.%n&quot;,\n     updatedQueue.getName&#40;&#41;, updatedQueue.getLockDuration&#40;&#41;, updatedQueue.getMaxDeliveryCount&#40;&#41;&#41;;\n </pre>\n <!-- end com.azure.messaging.servicebus.administration.servicebusadministrationclient.updatequeue -->\n\n <h3>Managing topics and subscriptions</h3>\n\n <p><strong>Sample: Create a topic, subscription, and rule</strong></p>\n\n <p>The following code sample demonstrates the creation of a Service Bus topic and subscription.  The subscription\n filters for messages with a correlation id <code>\"emails\"</code> and has a <code>\"importance\"</code> property set\n to <code>\"high\"</code>.  Consequently, all high importance Service Bus messages will be delivered to the\n <code>\"high-importance-subscription\"</code> subscription. See\n <a href=\"https://learn.microsoft.com/azure/service-bus-messaging/topic-filters\">Topic filters</a> for additional\n information.</p>\n\n <!-- src_embed com.azure.messaging.servicebus.administration.servicebusadministrationclient.createsubscription#string-string-string -->\n <pre>\n String topicName = &quot;my-new-topic&quot;;\n TopicProperties topic = client.createTopic&#40;topicName&#41;;\n\n String subscriptionName = &quot;high-importance-subscription&quot;;\n String ruleName = &quot;important-emails-filter&quot;;\n CreateSubscriptionOptions subscriptionOptions = new CreateSubscriptionOptions&#40;&#41;\n     .setMaxDeliveryCount&#40;15&#41;\n     .setLockDuration&#40;Duration.ofMinutes&#40;2&#41;&#41;;\n\n CorrelationRuleFilter ruleFilter = new CorrelationRuleFilter&#40;&#41;\n     .setCorrelationId&#40;&quot;emails&quot;&#41;;\n ruleFilter.getProperties&#40;&#41;.put&#40;&quot;importance&quot;, &quot;high&quot;&#41;;\n\n CreateRuleOptions createRuleOptions = new CreateRuleOptions&#40;&#41;\n     .setFilter&#40;ruleFilter&#41;;\n\n SubscriptionProperties subscription = client.createSubscription&#40;topicName, subscriptionName, ruleName,\n     subscriptionOptions, createRuleOptions&#41;;\n\n System.out.printf&#40;&quot;Subscription created. Name: %s. Topic name: %s. Lock Duration: %s.%n&quot;,\n     subscription.getSubscriptionName&#40;&#41;, subscription.getTopicName&#40;&#41;, subscription.getLockDuration&#40;&#41;&#41;;\n </pre>\n <!-- end com.azure.messaging.servicebus.administration.servicebusadministrationclient.createsubscription#string-string-string -->\n\n <p><strong>Sample: Update a subscription</strong></p>\n\n <p>The following code sample demonstrates updating an existing subscription.  Users should fetch the subscription,\n modify the properties, and pass that object into the update method.</p>\n\n <!-- src_embed com.azure.messaging.servicebus.administration.servicebusadministrationclient.updatesubscription#subscriptionproperties -->\n <pre>\n &#47;&#47; To update the subscription we have to:\n &#47;&#47; 1. Get the subscription info from the service.\n &#47;&#47; 2. Update the SubscriptionProperties we want to change.\n &#47;&#47; 3. Call the updateSubscription&#40;&#41; with the updated object.\n SubscriptionProperties subscription = client.getSubscription&#40;&quot;my-topic&quot;, &quot;my-subscription&quot;&#41;;\n\n System.out.println&#40;&quot;Original delivery count: &quot; + subscription.getMaxDeliveryCount&#40;&#41;&#41;;\n\n &#47;&#47; Updating it to a new value.\n subscription.setMaxDeliveryCount&#40;5&#41;;\n\n &#47;&#47; Persisting the updates to the subscription object.\n SubscriptionProperties updated = client.updateSubscription&#40;subscription&#41;;\n\n System.out.printf&#40;&quot;Subscription updated. Name: %s. Delivery count: %s.%n&quot;,\n     updated.getSubscriptionName&#40;&#41;, updated.getMaxDeliveryCount&#40;&#41;&#41;;\n </pre>\n <!-- end com.azure.messaging.servicebus.administration.servicebusadministrationclient.updatesubscription#subscriptionproperties -->"
metadata: {}
package: "com.azure.messaging.servicebus.administration"
artifact: com.azure:azure-messaging-servicebus:7.15.0
