### YamlMime:JavaMember
uid: "com.azure.core.util.metrics.Meter.createAttributes*"
fullName: "com.azure.core.util.metrics.Meter.createAttributes"
name: "createAttributes"
nameWithType: "Meter.createAttributes"
members:
- uid: "com.azure.core.util.metrics.Meter.createAttributes(java.util.Map<java.lang.String,java.lang.Object>)"
  fullName: "com.azure.core.util.metrics.Meter.createAttributes(Map<String,Object> attributeMap)"
  name: "createAttributes(Map<String,Object> attributeMap)"
  nameWithType: "Meter.createAttributes(Map<String,Object> attributeMap)"
  summary: "Creates and returns attribute collection implementation specific to the meter implementation."
  parameters:
  - description: "map of key value pairs to cache."
    name: "attributeMap"
    type: "<xref href=\"java.util.Map?alt=java.util.Map&text=Map\" data-throw-if-not-resolved=\"False\" />&lt;<xref href=\"java.lang.String?alt=java.lang.String&text=String\" data-throw-if-not-resolved=\"False\" />,<xref href=\"java.lang.Object?alt=java.lang.Object&text=Object\" data-throw-if-not-resolved=\"False\" />&gt;"
  syntax: "public abstract TelemetryAttributes createAttributes(Map<String,Object> attributeMap)"
  desc: "Creates and returns attribute collection implementation specific to the meter implementation. Attribute collections differ in how they support different types of attributes and internal data structures they use. For the best performance, client libraries should create and cache attribute collections for the client lifetime and pass cached instance when recoding new measurements.\n\n```java\n// Create attributes for possible error codes. Can be done lazily once specific error code is received.\n TelemetryAttributes successAttributes = defaultMeter.createAttributes(new HashMap<String, Object>() {{\n         put(\"endpoint\", \"http://service-endpoint.azure.com\");\n         put(\"error\", true);\n     }});\n\n TelemetryAttributes errorAttributes =  defaultMeter.createAttributes(new HashMap<String, Object>() {{\n         put(\"endpoint\", \"http://service-endpoint.azure.com\");\n         put(\"error\", false);\n     }});\n\n LongCounter httpConnections = defaultMeter.createLongCounter(\"az.core.http.connections\",\n     \"Number of created HTTP connections\", null);\n\n boolean success = false;\n try {\n     success = doThings();\n } finally {\n     httpConnections.add(1, success ? successAttributes : errorAttributes, currentContext);\n }\n```"
  returns:
    description: "an instance of <code>AttributesBuilder</code>"
    type: "<xref href=\"com.azure.core.util.TelemetryAttributes?alt=com.azure.core.util.TelemetryAttributes&text=TelemetryAttributes\" data-throw-if-not-resolved=\"False\" />"
type: "method"
metadata: {}
package: "com.azure.core.util.metrics"
artifact: com.azure:azure-core:1.31.0
