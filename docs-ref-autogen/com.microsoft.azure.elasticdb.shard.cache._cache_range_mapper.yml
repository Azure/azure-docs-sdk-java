### YamlMime:ManagedReference
items:
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper
  id: _cache_range_mapper
  parent: com.microsoft.azure.elasticdb.shard.cache
  children:
  - com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.addOrUpdate(StoreMapping,CacheStoreMappingUpdatePolicy)
  - com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.CacheRangeMapper(ShardKeyType)
  - com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.clear()
  - com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.getMappingsCount()
  - com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.lookupByKey(ShardKey)
  - com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.lookupByRange(ShardRange,ReferenceObjectHelper<List<StoreMapping>>)
  - com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.remove(StoreMapping)
  href: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.yml
  langs:
  - java
  name: CacheRangeMapper
  nameWithType: CacheRangeMapper
  fullName: com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper
  type: Class
  source:
    remote: &o0
      path: elastic-db-tools/src/main/java/com/microsoft/azure/elasticdb/shard/cache/CacheRangeMapper.java
      branch: master
      repo: https://github.com/Microsoft/elastic-db-tools-for-java
    path: elastic-db-tools/src/main/java/com/microsoft/azure/elasticdb/shard/cache/CacheRangeMapper.java
    startLine: 27
  package: com.microsoft.azure.elasticdb.shard.cache
  summary: <p>Cached representation of collection of mappings within shard map. The items consist of a ranges of key values. </p>
  syntax:
    content: public class CacheRangeMapper extends CacheMapper
  inheritance:
  - java.lang.Object
  - com.microsoft.azure.elasticdb.shard.cache._cache_mapper
  inheritedMembers:
  - com.microsoft.azure.elasticdb.shard.cache._cache_mapper.CacheMapper(ShardKeyType)
  - com.microsoft.azure.elasticdb.shard.cache._cache_mapper.calculateNewTimeToLiveMilliseconds(ICacheStoreMapping)
  - com.microsoft.azure.elasticdb.shard.cache._cache_mapper.getKeyType()
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.addOrUpdate(StoreMapping,CacheStoreMappingUpdatePolicy)
  id: addOrUpdate(StoreMapping,CacheStoreMappingUpdatePolicy)
  parent: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper
  href: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.yml
  langs:
  - java
  name: addOrUpdate(StoreMapping sm, CacheStoreMappingUpdatePolicy policy)
  nameWithType: CacheRangeMapper.addOrUpdate(StoreMapping sm, CacheStoreMappingUpdatePolicy policy)
  fullName: void com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.addOrUpdate(StoreMapping sm, CacheStoreMappingUpdatePolicy policy)
  overload: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.addOrUpdate*
  type: Method
  source:
    remote: *o0
    path: elastic-db-tools/src/main/java/com/microsoft/azure/elasticdb/shard/cache/CacheRangeMapper.java
    startLine: 55
  package: com.microsoft.azure.elasticdb.shard.cache
  summary: >-
    <p>Add or update a mapping in cache.</p>

    <p></p>
  syntax:
    content: public void addOrUpdate(StoreMapping sm, CacheStoreMappingUpdatePolicy policy)
    parameters:
    - id: sm
      type: com.microsoft.azure.elasticdb.shard.store._store_mapping
      description: <p>Storage mapping object. </p>
    - id: policy
      type: com.microsoft.azure.elasticdb.shard.cache._cache_store_mapping_update_policy
      description: <p>Policy to use for preexisting cache entries during update. </p>
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.CacheRangeMapper(ShardKeyType)
  id: CacheRangeMapper(ShardKeyType)
  parent: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper
  href: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.yml
  langs:
  - java
  name: CacheRangeMapper(ShardKeyType keyType)
  nameWithType: CacheRangeMapper.CacheRangeMapper(ShardKeyType keyType)
  fullName: com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.CacheRangeMapper(ShardKeyType keyType)
  overload: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.CacheRangeMapper*
  type: Constructor
  source:
    remote: *o0
    path: elastic-db-tools/src/main/java/com/microsoft/azure/elasticdb/shard/cache/CacheRangeMapper.java
    startLine: 40
  package: com.microsoft.azure.elasticdb.shard.cache
  summary: >-
    <p>Constructs the mapper, notes the key type for lookups.</p>

    <p></p>
  syntax:
    content: public CacheRangeMapper(ShardKeyType keyType)
    parameters:
    - id: keyType
      type: com.microsoft.azure.elasticdb.shard.base._shard_key_type
      description: <p>Key type. </p>
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.clear()
  id: clear()
  parent: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper
  href: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.yml
  langs:
  - java
  name: clear()
  nameWithType: CacheRangeMapper.clear()
  fullName: void com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.clear()
  overload: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.clear*
  type: Method
  source:
    remote: *o0
    path: elastic-db-tools/src/main/java/com/microsoft/azure/elasticdb/shard/cache/CacheRangeMapper.java
    startLine: 218
  package: com.microsoft.azure.elasticdb.shard.cache
  summary: <p>Clears all the mappings in the lookup by Id table as well as lookup by range table. </p>
  syntax:
    content: protected void clear()
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.getMappingsCount()
  id: getMappingsCount()
  parent: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper
  href: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.yml
  langs:
  - java
  name: getMappingsCount()
  nameWithType: CacheRangeMapper.getMappingsCount()
  fullName: long com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.getMappingsCount()
  overload: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.getMappingsCount*
  type: Method
  source:
    remote: *o0
    path: elastic-db-tools/src/main/java/com/microsoft/azure/elasticdb/shard/cache/CacheRangeMapper.java
    startLine: 210
  package: com.microsoft.azure.elasticdb.shard.cache
  summary: >-
    <p>Get number of range mappings cached in this mapper.</p>

    <p></p>
  syntax:
    content: public long getMappingsCount()
    return:
      type: 0364520f
      description: <p>Number of cached range mappings. </p>
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.lookupByKey(ShardKey)
  id: lookupByKey(ShardKey)
  parent: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper
  href: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.yml
  langs:
  - java
  name: lookupByKey(ShardKey key)
  nameWithType: CacheRangeMapper.lookupByKey(ShardKey key)
  fullName: ICacheStoreMapping com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.lookupByKey(ShardKey key)
  overload: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.lookupByKey*
  type: Method
  source:
    remote: *o0
    path: elastic-db-tools/src/main/java/com/microsoft/azure/elasticdb/shard/cache/CacheRangeMapper.java
    startLine: 146
  package: com.microsoft.azure.elasticdb.shard.cache
  summary: >-
    <p>Looks up a mapping by key.</p>

    <p></p>
  syntax:
    content: public ICacheStoreMapping lookupByKey(ShardKey key)
    parameters:
    - id: key
      type: com.microsoft.azure.elasticdb.shard.base._shard_key
      description: <p>Key value. </p>
    return:
      type: com.microsoft.azure.elasticdb.shard.cache._i_cache_store_mapping
      description: <p>Mapping object which has the key value. </p>
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.lookupByRange(ShardRange,ReferenceObjectHelper<List<StoreMapping>>)
  id: lookupByRange(ShardRange,ReferenceObjectHelper<List<StoreMapping>>)
  parent: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper
  href: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.yml
  langs:
  - java
  name: lookupByRange(ShardRange range, ReferenceObjectHelper<List<StoreMapping>> sm)
  nameWithType: CacheRangeMapper.lookupByRange(ShardRange range, ReferenceObjectHelper<List<StoreMapping>> sm)
  fullName: List<ICacheStoreMapping> com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.lookupByRange(ShardRange range, ReferenceObjectHelper<List<StoreMapping>> sm)
  overload: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.lookupByRange*
  type: Method
  source:
    remote: *o0
    path: elastic-db-tools/src/main/java/com/microsoft/azure/elasticdb/shard/cache/CacheRangeMapper.java
    startLine: 168
  package: com.microsoft.azure.elasticdb.shard.cache
  summary: >-
    <p>Looks up a mapping by Range.</p>

    <p></p>
  syntax:
    content: public List<ICacheStoreMapping> lookupByRange(ShardRange range, ReferenceObjectHelper<List<StoreMapping>> sm)
    parameters:
    - id: range
      type: com.microsoft.azure.elasticdb.shard.base._shard_range
      description: <p>Optional range value, if null, we cover everything. </p>
    - id: sm
      type: com.microsoft.azure.elasticdb.core.commons.helpers._reference_object_helpera3a447e9com.microsoft.azure.elasticdb.shard.store._store_mappinge7daa122
      description: <p>Storage mapping object. </p>
    return:
      type: 5618da2dcom.microsoft.azure.elasticdb.shard.cache._i_cache_store_mappinga08ddfce
      description: <p>Mapping object which has the key value. </p>
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.remove(StoreMapping)
  id: remove(StoreMapping)
  parent: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper
  href: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.yml
  langs:
  - java
  name: remove(StoreMapping sm)
  nameWithType: CacheRangeMapper.remove(StoreMapping sm)
  fullName: void com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.remove(StoreMapping sm)
  overload: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.remove*
  type: Method
  source:
    remote: *o0
    path: elastic-db-tools/src/main/java/com/microsoft/azure/elasticdb/shard/cache/CacheRangeMapper.java
    startLine: 92
  package: com.microsoft.azure.elasticdb.shard.cache
  summary: >-
    <p>Remove a mapping object from cache. Q: Do we ever need to remove multiple entries from the cache which cover the same range? A: Yes. Imagine that you have some stale mapping in the cache, user performs an AddRangeMapping operation on a subset of stale mapping range, now you should remove the stale mapping.</p>

    <p></p>
  syntax:
    content: public void remove(StoreMapping sm)
    parameters:
    - id: sm
      type: com.microsoft.azure.elasticdb.shard.store._store_mapping
      description: <p>Storage mapping object. </p>
references:
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.CacheRangeMapper*
  name: CacheRangeMapper
  nameWithType: CacheRangeMapper.CacheRangeMapper
  fullName: com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.CacheRangeMapper
  package: com.microsoft.azure.elasticdb.shard.cache
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.addOrUpdate*
  name: addOrUpdate
  nameWithType: CacheRangeMapper.addOrUpdate
  fullName: void com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.addOrUpdate
  package: com.microsoft.azure.elasticdb.shard.cache
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.remove*
  name: remove
  nameWithType: CacheRangeMapper.remove
  fullName: void com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.remove
  package: com.microsoft.azure.elasticdb.shard.cache
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.lookupByKey*
  name: lookupByKey
  nameWithType: CacheRangeMapper.lookupByKey
  fullName: ICacheStoreMapping com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.lookupByKey
  package: com.microsoft.azure.elasticdb.shard.cache
- uid: com.microsoft.azure.elasticdb.core.commons.helpers._reference_object_helpera3a447e9com.microsoft.azure.elasticdb.shard.store._store_mappinge7daa122
  spec.java:
  - uid: com.microsoft.azure.elasticdb.core.commons.helpers._reference_object_helper
    name: ReferenceObjectHelper
    fullName: com.microsoft.azure.elasticdb.core.commons.helpers.ReferenceObjectHelper
    href: com.microsoft.azure.elasticdb.core.commons.helpers._reference_object_helper.yml
  - name: <List<
    fullName: <List<
  - uid: com.microsoft.azure.elasticdb.shard.store._store_mapping
    name: StoreMapping
    fullName: com.microsoft.azure.elasticdb.shard.store.StoreMapping
    href: com.microsoft.azure.elasticdb.shard.store._store_mapping.yml
  - name: '>>'
    fullName: '>>'
- uid: 5618da2dcom.microsoft.azure.elasticdb.shard.cache._i_cache_store_mappinga08ddfce
  spec.java:
  - name: List<
    fullName: List<
  - uid: com.microsoft.azure.elasticdb.shard.cache._i_cache_store_mapping
    name: ICacheStoreMapping
    fullName: com.microsoft.azure.elasticdb.shard.cache.ICacheStoreMapping
    href: com.microsoft.azure.elasticdb.shard.cache._i_cache_store_mapping.yml
  - name: '>'
    fullName: '>'
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.lookupByRange*
  name: lookupByRange
  nameWithType: CacheRangeMapper.lookupByRange
  fullName: List<ICacheStoreMapping> com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.lookupByRange
  package: com.microsoft.azure.elasticdb.shard.cache
- uid: 0364520f
  spec.java:
  - name: long
    fullName: long
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.getMappingsCount*
  name: getMappingsCount
  nameWithType: CacheRangeMapper.getMappingsCount
  fullName: long com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.getMappingsCount
  package: com.microsoft.azure.elasticdb.shard.cache
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_range_mapper.clear*
  name: clear
  nameWithType: CacheRangeMapper.clear
  fullName: void com.microsoft.azure.elasticdb.shard.cache.CacheRangeMapper.clear
  package: com.microsoft.azure.elasticdb.shard.cache
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_mapper.CacheMapper(ShardKeyType)
  parent: com.microsoft.azure.elasticdb.shard.cache._cache_mapper
  href: com.microsoft.azure.elasticdb.shard.cache._cache_mapper.yml
  name: CacheMapper(ShardKeyType keyType)
  nameWithType: CacheMapper.CacheMapper(ShardKeyType keyType)
  fullName: com.microsoft.azure.elasticdb.shard.cache.CacheMapper.CacheMapper(ShardKeyType keyType)
  type: Constructor
  summary: >-
    <p>Constructs the mapper, notes the key type for lookups.</p>

    <p></p>
  syntax:
    content: public CacheMapper(ShardKeyType keyType)
    parameters:
    - id: keyType
      type: com.microsoft.azure.elasticdb.shard.base._shard_key_type
      description: <p>Key type. </p>
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_mapper.calculateNewTimeToLiveMilliseconds(ICacheStoreMapping)
  parent: com.microsoft.azure.elasticdb.shard.cache._cache_mapper
  href: com.microsoft.azure.elasticdb.shard.cache._cache_mapper.yml
  name: calculateNewTimeToLiveMilliseconds(ICacheStoreMapping csm)
  nameWithType: CacheMapper.calculateNewTimeToLiveMilliseconds(ICacheStoreMapping csm)
  fullName: static long com.microsoft.azure.elasticdb.shard.cache.CacheMapper.calculateNewTimeToLiveMilliseconds(ICacheStoreMapping csm)
  type: Method
  summary: >-
    <p>Given current value of TTL, calculates the next TTL value in milliseconds.</p>

    <p></p>
  syntax:
    content: protected static long calculateNewTimeToLiveMilliseconds(ICacheStoreMapping csm)
    parameters:
    - id: csm
      type: com.microsoft.azure.elasticdb.shard.cache._i_cache_store_mapping
      description: <p>Current cached mapping object. </p>
    return:
      type: 0364520f
      description: <p>New TTL value. </p>
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_mapper.getKeyType()
  parent: com.microsoft.azure.elasticdb.shard.cache._cache_mapper
  href: com.microsoft.azure.elasticdb.shard.cache._cache_mapper.yml
  name: getKeyType()
  nameWithType: CacheMapper.getKeyType()
  fullName: final ShardKeyType com.microsoft.azure.elasticdb.shard.cache.CacheMapper.getKeyType()
  type: Method
  syntax:
    content: protected final ShardKeyType getKeyType()
    return:
      type: 93de0ef9com.microsoft.azure.elasticdb.shard.base._shard_key_type
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_mapper
  parent: com.microsoft.azure.elasticdb.shard.cache
  href: com.microsoft.azure.elasticdb.shard.cache._cache_mapper.yml
  name: CacheMapper
  nameWithType: CacheMapper
  fullName: com.microsoft.azure.elasticdb.shard.cache.CacheMapper
  type: Class
  summary: <p>Cached representation of collection of mappings within shard map. Derived classes implement either list or range functionality. </p>
  syntax:
    content: public class CacheMapper
- uid: com.microsoft.azure.elasticdb.shard.base._shard_range
  parent: com.microsoft.azure.elasticdb.shard.base
  href: com.microsoft.azure.elasticdb.shard.base._shard_range.yml
  name: ShardRange
  nameWithType: ShardRange
  fullName: com.microsoft.azure.elasticdb.shard.base.ShardRange
  type: Class
  summary: <p>A range of shard keys between a low key and a high key. The low key is inclusive (part of the range) while the high key is exclusive (not part of the range). The <xref uid="com.microsoft.azure.elasticdb.shard.base._shard_range" data-throw-if-not-resolved="false">ShardRange</xref> class is immutable. </p>
  syntax:
    content: public class ShardRange
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_mapping
  parent: com.microsoft.azure.elasticdb.shard.cache
  href: com.microsoft.azure.elasticdb.shard.cache._cache_mapping.yml
  name: CacheMapping
  nameWithType: CacheMapping
  fullName: com.microsoft.azure.elasticdb.shard.cache.CacheMapping
  type: Class
  summary: <p>Cached representation of a single mapping. </p>
  syntax:
    content: public class CacheMapping implements ICacheStoreMapping
- uid: com.microsoft.azure.elasticdb.shard.base._shard_key_type
  parent: com.microsoft.azure.elasticdb.shard.base
  href: com.microsoft.azure.elasticdb.shard.base._shard_key_type.yml
  name: ShardKeyType
  nameWithType: ShardKeyType
  fullName: com.microsoft.azure.elasticdb.shard.base.ShardKeyType
  type: Enum
  summary: <p>Type of shard key. Currently, only Int32, Int64, Guid and byte[] are the data types supported as shard keys. </p>
  syntax:
    content: public enum ShardKeyType
- uid: com.microsoft.azure.elasticdb.shard.store._store_mapping
  parent: com.microsoft.azure.elasticdb.shard.store
  href: com.microsoft.azure.elasticdb.shard.store._store_mapping.yml
  name: StoreMapping
  nameWithType: StoreMapping
  fullName: com.microsoft.azure.elasticdb.shard.store.StoreMapping
  type: Class
  summary: <p>Storage representation of a mapping b/w key ranges and shards. </p>
  syntax:
    content: public class StoreMapping
- uid: com.microsoft.azure.elasticdb.shard.cache._cache_store_mapping_update_policy
  parent: com.microsoft.azure.elasticdb.shard.cache
  href: com.microsoft.azure.elasticdb.shard.cache._cache_store_mapping_update_policy.yml
  name: CacheStoreMappingUpdatePolicy
  nameWithType: CacheStoreMappingUpdatePolicy
  fullName: com.microsoft.azure.elasticdb.shard.cache.CacheStoreMappingUpdatePolicy
  type: Enum
  summary: <p>Policy for AddOrUpdateMapping operation. </p>
  syntax:
    content: public enum CacheStoreMappingUpdatePolicy
- uid: com.microsoft.azure.elasticdb.shard.cache._i_cache_store_mapping
  parent: com.microsoft.azure.elasticdb.shard.cache
  href: com.microsoft.azure.elasticdb.shard.cache._i_cache_store_mapping.yml
  name: ICacheStoreMapping
  nameWithType: ICacheStoreMapping
  fullName: com.microsoft.azure.elasticdb.shard.cache.ICacheStoreMapping
  type: Interface
  summary: <p>Represents a cache entry for a mapping. </p>
  syntax:
    content: public interface ICacheStoreMapping
- uid: com.microsoft.azure.elasticdb.shard.base._shard_key
  parent: com.microsoft.azure.elasticdb.shard.base
  href: com.microsoft.azure.elasticdb.shard.base._shard_key.yml
  name: ShardKey
  nameWithType: ShardKey
  fullName: com.microsoft.azure.elasticdb.shard.base.ShardKey
  type: Class
  summary: >-
    <p>

      <xref uid="com.microsoft.azure.elasticdb.shard.base._shard" data-throw-if-not-resolved="false">Shard</xref> key value. Wraps the type and value and allows normalization/denormalization for serialization. </p>
  syntax:
    content: public class ShardKey
- uid: com.microsoft.azure.elasticdb.core.commons.helpers._reference_object_helper
  parent: com.microsoft.azure.elasticdb.core.commons.helpers
  href: com.microsoft.azure.elasticdb.core.commons.helpers._reference_object_helper.yml
  name: ReferenceObjectHelper<T>
  nameWithType: ReferenceObjectHelper<T>
  fullName: com.microsoft.azure.elasticdb.core.commons.helpers.ReferenceObjectHelper<T>
  type: Class
  syntax:
    content: public class ReferenceObjectHelper<T>
    typeParameters:
    - type: 8ce1ecb9
