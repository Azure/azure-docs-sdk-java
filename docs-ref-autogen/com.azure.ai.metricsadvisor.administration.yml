### YamlMime:JavaPackage
uid: "com.azure.ai.metricsadvisor.administration"
fullName: "com.azure.ai.metricsadvisor.administration"
name: "com.azure.ai.metricsadvisor.administration"
summary: "<p><a href=\"https://learn.microsoft.com/azure/ai-services/metrics-advisor/\">Azure Metrics Advisor</a> is a\n  cloud-based service provided by Microsoft Azure that is designed to help organizations monitor\n and analyze metrics and time-series data from various sources."
classes:
- "com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationAsyncClient"
- "com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient"
- "com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClientBuilder"
desc: "<p><a href=\"https://learn.microsoft.com/azure/ai-services/metrics-advisor/\">Azure Metrics Advisor</a> is a\n  cloud-based service provided by Microsoft Azure that is designed to help organizations monitor\n and analyze metrics and time-series data from various sources. It is particularly focused on aiding in the\n  detection of anomalies, trends, and patterns within this data, which can be invaluable for improving operational\n efficiency, identifying issues early, and making data-driven decisions.</p>\n\n <p>Here are some key features and capabilities of Azure Metrics Advisor:</p>\n\n <ul>\n <li>Anomaly Detection: Azure Metrics Advisor employs machine learning algorithms to automatically identify\n anomalies in time-series data. It can differentiate between normal variations and unusual patterns, helping\n organizations detect issues or opportunities for improvement.</li>\n\n <li>Time-Series Data Ingestion: The service allows you to ingest time-series data from various sources, including\n Azure Monitor, Application Insights, IoT Hub, and custom data sources. This flexibility enables you to monitor a wide\n range of metrics.</li>\n\n <li>Data Exploration: Users can explore their data, view historical trends, and gain insights into the behavior of\n various metrics over time. This can be useful for identifying seasonal patterns and understanding the normal\n behavior of your systems.</li>\n\n <li>Integration with Azure Services: Azure Metrics Advisor integrates with other Azure services, such as Azure\n Monitor and Azure Data Explorer, making it part of a broader ecosystem for monitoring and analytics.</li>\n\n <li>Alerts and Notifications: You can set up alerts and notifications based on detected anomalies or specific\n thresholds, ensuring that you are informed promptly when issues arise.</li>\n </ul>\n\n <h2>Getting Started</h2>\n\n <p>The Azure Metrics Advisor library provides advisor clients like\n <xref uid=\"com.azure.ai.metricsadvisor.MetricsAdvisorAsyncClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.MetricsAdvisorAsyncClient\"></xref>\n and <xref uid=\"com.azure.ai.metricsadvisor.MetricsAdvisorClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.MetricsAdvisorClient\"></xref> to connect to the Metrics Advisor\n Azure Cognitive Service to perform data monitoring.\n It also provides administration clients like\n <xref uid=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient\"></xref>\n and <xref uid=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationAsyncClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationAsyncClient\"></xref> to\n build and manage models from custom documents.</p>\n\n <p>Service clients are the point of interaction for developers to use Azure Form Recognizer.\n <xref uid=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient\"></xref> is the synchronous service client and\n <xref uid=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationAsyncClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationAsyncClient\"></xref> is the asynchronous service client.\n The examples shown in this document use a credential object named DefaultAzureCredential for authentication, which is\n appropriate for most scenarios, including local development and production environments. Additionally, we\n recommend using\n <a href=\"https://learn.microsoft.com/azure/active-directory/managed-identities-azure-resources/\">managed identity</a>\n for authentication in production environments.\n You can find more information on different ways of authenticating and their corresponding credential types in the\n <a href=\"https://learn.microsoft.com/java/api/overview/azure/identity-readme\">Azure Identity documentation\"</a>.\n </p>\n\n <p><strong>Sample: Construct a MetricsAdvisorClient with DefaultAzureCredential</strong></p>\n\n <p>The following code sample demonstrates the creation of a\n <xref uid=\"com.azure.ai.metricsadvisor.MetricsAdvisorClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.MetricsAdvisorClient\"></xref>, using\n the `DefaultAzureCredentialBuilder` to configure it.</p>\n\n <!-- src_embed com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient.instantiation.withAAD -->\n <pre>\n MetricsAdvisorAdministrationClient metricsAdvisorAdminClient =\n     new MetricsAdvisorAdministrationClientBuilder&#40;&#41;\n         .credential&#40;new DefaultAzureCredentialBuilder&#40;&#41;.build&#40;&#41;&#41;\n         .endpoint&#40;&quot;&#123;endpoint&#125;&quot;&#41;\n         .buildClient&#40;&#41;;\n </pre>\n <!-- end com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient.instantiation.withAAD  -->\n\n <p>Further, see the code sample below to use\n <xref uid=\"com.azure.ai.metricsadvisor.models.MetricsAdvisorKeyCredential\" data-throw-if-not-resolved=\"false\" data-raw-source=\"MetricsAdvisorKeyCredential\"></xref> for client creation.</p>\n\n <!-- src_embed com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient.instantiation -->\n <pre>\n MetricsAdvisorAdministrationClient metricsAdvisorAdminClient =\n     new MetricsAdvisorAdministrationClientBuilder&#40;&#41;\n         .credential&#40;new MetricsAdvisorKeyCredential&#40;&quot;&#123;subscription_key&#125;&quot;, &quot;&#123;api_key&#125;&quot;&#41;&#41;\n         .endpoint&#40;&quot;&#123;endpoint&#125;&quot;&#41;\n         .buildClient&#40;&#41;;\n </pre>\n <!-- end com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient.instantiation  -->\n\n <p>Let's take a look at the advisor client scenarios and their respective usage below.</p>\n\n <br>\n\n <hr>\n <h2>Onboard your data by connecting to an SQL data source</h2>\n <p>Metrics Advisor provides connectors for different data sources, such as Azure SQL Database, Azure Data Explorer,\n and Azure Table Storage.</p>\n <p><strong>Sample: Onboard a given SQL source of data to Metrics Advisor service</strong></p>\n\n <p>The following code sample demonstrates to connect data source to create a data feed using an SQL data source</p>\n\n <!-- src_embed com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient.createDataFeed#DataFeed -->\n <pre>\n DataFeed dataFeed = new DataFeed&#40;&#41;\n     .setName&#40;&quot;dataFeedName&quot;&#41;\n     .setSource&#40;new MySqlDataFeedSource&#40;&quot;conn-string&quot;, &quot;query&quot;&#41;&#41;\n     .setGranularity&#40;new DataFeedGranularity&#40;&#41;.setGranularityType&#40;DataFeedGranularityType.DAILY&#41;&#41;\n     .setSchema&#40;new DataFeedSchema&#40;\n         Arrays.asList&#40;\n             new DataFeedMetric&#40;&quot;cost&quot;&#41;,\n             new DataFeedMetric&#40;&quot;revenue&quot;&#41;\n         &#41;&#41;.setDimensions&#40;\n         Arrays.asList&#40;\n             new DataFeedDimension&#40;&quot;city&quot;&#41;,\n             new DataFeedDimension&#40;&quot;category&quot;&#41;\n         &#41;&#41;\n     &#41;\n     .setIngestionSettings&#40;new DataFeedIngestionSettings&#40;OffsetDateTime.parse&#40;&quot;2020-01-01T00:00:00Z&quot;&#41;&#41;&#41;\n     .setOptions&#40;new DataFeedOptions&#40;&#41;\n         .setDescription&#40;&quot;data feed description&quot;&#41;\n         .setRollupSettings&#40;new DataFeedRollupSettings&#40;&#41;\n             .setRollupType&#40;DataFeedRollupType.AUTO_ROLLUP&#41;&#41;&#41;;\n\n DataFeed createdDataFeed = metricsAdvisorAdminClient.createDataFeed&#40;dataFeed&#41;;\n\n System.out.printf&#40;&quot;Data feed Id: %s%n&quot;, createdDataFeed.getId&#40;&#41;&#41;;\n System.out.printf&#40;&quot;Data feed description: %s%n&quot;, createdDataFeed.getOptions&#40;&#41;.getDescription&#40;&#41;&#41;;\n System.out.printf&#40;&quot;Data feed source type: %s%n&quot;, createdDataFeed.getSourceType&#40;&#41;&#41;;\n System.out.printf&#40;&quot;Data feed creator: %s%n&quot;, createdDataFeed.getCreator&#40;&#41;&#41;;\n </pre>\n <!-- end com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient.createDataFeed#DataFeed -->\n <p><strong>Note:</strong> For asynchronous sample, refer to <xref uid=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationAsyncClient#createDataFeed(com.azure.ai.metricsadvisor.administration.models.DataFeed)\" data-throw-if-not-resolved=\"false\" data-raw-source=\"AsyncCreateDataFeed\"></xref> API.</p>\n\n <br>\n\n <hr>\n\n <h2>Subscribe anomalies for notification</h2>\n\n <p>After an anomaly is detected by Metrics Advisor, an alert notification will be triggered based on alert settings,\n using a hook. An alert setting can be used with multiple detection configurations, various parameters are available to customize your alert rule.</p>\n\n <p>The following code sample demonstrates how to configure an alert notification for a detected anomaly with multiple detection configurations</p>\n <p><strong>Sample: Configure alerts and get notifications using a hook.</strong></p>\n\n ```java readme-sample-createHook\n <!-- src_embed readme-sample-createHook -->\n <pre>\n NotificationHook emailNotificationHook = new EmailNotificationHook&#40;&quot;email Hook&quot;&#41;\n     .setDescription&#40;&quot;my email Hook&quot;&#41;\n     .setEmailsToAlert&#40;Collections.singletonList&#40;&quot;alertme&#64;alertme.com&quot;&#41;&#41;\n     .setExternalLink&#40;&quot;https:&#47;&#47;adwiki.azurewebsites.net&#47;articles&#47;howto&#47;alerts&#47;create-hooks.html&quot;&#41;;\n\n final NotificationHook notificationHook = metricsAdvisorAdminClient.createHook&#40;emailNotificationHook&#41;;\n EmailNotificationHook createdEmailHook = &#40;EmailNotificationHook&#41; notificationHook;\n System.out.printf&#40;&quot;Email Hook Id: %s%n&quot;, createdEmailHook.getId&#40;&#41;&#41;;\n System.out.printf&#40;&quot;Email Hook name: %s%n&quot;, createdEmailHook.getName&#40;&#41;&#41;;\n System.out.printf&#40;&quot;Email Hook description: %s%n&quot;, createdEmailHook.getDescription&#40;&#41;&#41;;\n System.out.printf&#40;&quot;Email Hook external Link: %s%n&quot;, createdEmailHook.getExternalLink&#40;&#41;&#41;;\n System.out.printf&#40;&quot;Email Hook emails to alert: %s%n&quot;,\n     String.join&#40;&quot;,&quot;, createdEmailHook.getEmailsToAlert&#40;&#41;&#41;&#41;;\n </pre>\n <!-- end readme-sample-createHook -->\n <p><strong>Note:</strong> For asynchronous sample, refer to <xref uid=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationAsyncClient#createHook(com.azure.ai.metricsadvisor.administration.models.NotificationHook)\" data-throw-if-not-resolved=\"false\" data-raw-source=\"AsyncCreateHook\"></xref> API.</p>"
metadata: {}
package: "com.azure.ai.metricsadvisor.administration"
artifact: com.azure:azure-ai-metricsadvisor:1.1.25
