### YamlMime:JavaMember
nameWithType: BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId
type: method
members:
- fullName: com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId(String virtualMachineImageId, String publisher, String offer, String sku)
  name: withVirtualMachineImageId(String virtualMachineImageId, String publisher, String offer, String sku)
  nameWithType: BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId(String virtualMachineImageId, String publisher, String offer, String sku)
  parameters:
  - description: <p>the ARM resource identifier of the virtual machine image </p>
    name: virtualMachineImageId
    type: <xref href="String?alt=String&text=String" data-throw-if-not-resolved="False"/>
  - description: <p>publisher of the image </p>
    name: publisher
    type: <xref href="String?alt=String&text=String" data-throw-if-not-resolved="False"/>
  - description: <p>offer of the image </p>
    name: offer
    type: <xref href="String?alt=String&text=String" data-throw-if-not-resolved="False"/>
  - description: <p>sku of the image </p>
    name: sku
    type: <xref href="String?alt=String&text=String" data-throw-if-not-resolved="False"/>
  returns:
    description: <p>the next stage of the definition </p>
    type: <xref href="com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithCreate?alt=com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithCreate&text=BatchAICluster.DefinitionStages.WithCreate" data-throw-if-not-resolved="False"/>
  summary: <p>Computes nodes of the cluster will be created using this custom image. This is of the form /subscriptions/{subscriptionId}/resourceGroups/{resourceGroup}/providers/Microsoft.Compute/images/{imageName}. The virtual machine image must be in the same region and subscription as the cluster. For information about the firewall settings for the Batch node agent to communicate with the Batch service see <a href="https://docs.microsoft.com/en-us/azure/batch/batch-api-basics#virtual-network-vnet-and-firewall-configuration">https://docs.microsoft.com/en-us/azure/batch/batch-api-basics#virtual-network-vnet-and-firewall-configuration</a>. Note, you need to provide publisher, offer and sku of the base OS image of which the custom image has been derived from. </p>
  syntax: public WithCreate withVirtualMachineImageId(String virtualMachineImageId, String publisher, String offer, String sku)
  uid: com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId(String,String,String,String)
uid: com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId*
fullName: com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId
name: withVirtualMachineImageId(String virtualMachineImageId, String publisher, String offer, String sku)
package: com.microsoft.azure.management.batchai
metadata: {}
