### YamlMime:JavaMember
uid: "com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId*"
fullName: "com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId"
name: "withVirtualMachineImageId"
nameWithType: "BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId"
members:
- uid: "com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId(java.lang.String,java.lang.String,java.lang.String,java.lang.String)"
  fullName: "com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId(String virtualMachineImageId, String publisher, String offer, String sku)"
  name: "withVirtualMachineImageId(String virtualMachineImageId, String publisher, String offer, String sku)"
  nameWithType: "BatchAICluster.DefinitionStages.WithVirtualMachineImage.withVirtualMachineImageId(String virtualMachineImageId, String publisher, String offer, String sku)"
  summary: "Computes nodes of the cluster will be created using this custom image. This is of the form /subscriptions/\\{subscriptionId\\}/resourceGroups/\\{resourceGroup\\}/providers/Microsoft.Compute/images/\\{imageName\\}. The virtual machine image must be in the same region and subscription as the cluster. For information about the firewall settings for the Batch node agent to communicate with the Batch service see https://docs.microsoft.com/en-us/azure/batch/batch-api-basics\\#virtual-network-vnet-and-firewall-configuration. Note, you need to provide publisher, offer and sku of the base OS image of which the custom image has been derived from."
  parameters:
  - description: "the ARM resource identifier of the virtual machine image"
    name: "virtualMachineImageId"
    type: "<xref href=\"java.lang.String?alt=java.lang.String&text=String\" data-throw-if-not-resolved=\"False\" />"
  - description: "publisher of the image"
    name: "publisher"
    type: "<xref href=\"java.lang.String?alt=java.lang.String&text=String\" data-throw-if-not-resolved=\"False\" />"
  - description: "offer of the image"
    name: "offer"
    type: "<xref href=\"java.lang.String?alt=java.lang.String&text=String\" data-throw-if-not-resolved=\"False\" />"
  - description: "sku of the image"
    name: "sku"
    type: "<xref href=\"java.lang.String?alt=java.lang.String&text=String\" data-throw-if-not-resolved=\"False\" />"
  syntax: "public abstract BatchAICluster.DefinitionStages.WithCreate withVirtualMachineImageId(String virtualMachineImageId, String publisher, String offer, String sku)"
  returns:
    description: "the next stage of the definition"
    type: "<xref href=\"com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithCreate?alt=com.microsoft.azure.management.batchai.BatchAICluster.DefinitionStages.WithCreate&text=WithCreate\" data-throw-if-not-resolved=\"False\" />"
type: "method"
metadata: {}
package: "com.microsoft.azure.management.batchai"
artifact: com.microsoft.azure:azure-mgmt-batchai:1.38.1
