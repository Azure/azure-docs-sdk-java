### YamlMime:JavaPackage
uid: "com.azure.ai.formrecognizer.documentanalysis"
fullName: "com.azure.ai.formrecognizer.documentanalysis"
name: "com.azure.ai.formrecognizer.documentanalysis"
summary: "<p><a href=\"https://aka.ms/form-recognizer-3.0.0\">\n Azure Form Recognizer</a> is a cloud-based service provided by Microsoft Azure that utilizes machine learning to\n extract information from various types of documents."
classes:
- "com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisAsyncClient"
- "com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisClient"
- "com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisClientBuilder"
enums:
- "com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisServiceVersion"
desc: "<p><a href=\"https://aka.ms/form-recognizer-3.0.0\">\n Azure Form Recognizer</a> is a cloud-based service provided by Microsoft Azure that utilizes machine learning to\n extract information from various types of documents. Form Recognizer applies machine-learning-based optical\n character recognition (OCR) and document understanding technologies to classify documents, extract text, tables,\n structure, and key-value pairs from documents. You can also label and train custom models to automate data\n extraction from structured, semi-structured, and unstructured documents.</p>\n\n <p>The service uses advanced optical character recognition (OCR) technology to extract text and key-value\n pairs from documents, enabling organizations to automate data entry tasks that would otherwise require\n manual effort. It can recognize and extract information like dates, addresses, invoice numbers, line items,\n and other relevant data points from documents. </p>\n\n <p>The Azure Form Recognizer client library allows Java developers to interact with the Azure Form\n Recognizer service.\n It provides a set of classes and methods that abstract the underlying RESTful API of Azure\n Form Recognizer, making it easier to integrate the service into Java applications.</p>\n\n <p>The Azure Form Recognizer client library provides the following capabilities:</p>\n\n <ol>\n     <li>Document Analysis: It allows you to submit documents for analysis to detect and extract information like\n     text, key-value pairs, tables, language, and fields. You can analyze both structured and unstructured\n     documents.</li>\n     <li>Model Management: It enables you to manage models created in your account by building, listing,\n     deleting, and see the limit of custom models your account.</li>\n     <li>Analysis Results: It provides methods to retrieve and interpret analysis results, including extracted\n     text and field values, confidence scores, and document layout information.</li>\n     <li>Polling and Callbacks: It includes mechanisms for polling the service to check the status of an analysis\n     operation or registering callbacks to receive notifications when the analysis is complete.</li>\n </ol>\n\n <h2>Getting Started</h2>\n\n <p>The Azure Form Recognizer library provides analysis clients like\n <xref uid=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisAsyncClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisAsyncClient\"></xref>\n and <xref uid=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisClient\"></xref> to connect to the Form Recognizer\n Azure Cognitive Service\n to analyze information from documents and extract it into structured data.\n It also provides administration clients like\n <xref uid=\"com.azure.ai.formrecognizer.documentanalysis.administration.DocumentModelAdministrationClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.formrecognizer.documentanalysis.administration.DocumentModelAdministrationClient\"></xref>\n and <xref uid=\"com.azure.ai.formrecognizer.documentanalysis.administration.DocumentModelAdministrationAsyncClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.formrecognizer.documentanalysis.administration.DocumentModelAdministrationAsyncClient\"></xref> to\n build and manage models from custom documents.</p>\n\n <p><strong>Note:</strong>This client only supports\n <xref uid=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisServiceVersion#V2022_08_31\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisServiceVersion#V2022_08_31\"></xref> and newer.\n To use an older service version, <xref uid=\"com.azure.ai.formrecognizer.FormRecognizerClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.formrecognizer.FormRecognizerClient\"></xref> and\n <xref uid=\"com.azure.ai.formrecognizer.training.FormTrainingClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.formrecognizer.training.FormTrainingClient\"></xref>.</p>\n\n <p>Service clients are the point of interaction for developers to use Azure Form Recognizer.\n <xref uid=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisClient\"></xref> is the synchronous service client and\n <xref uid=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisAsyncClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisAsyncClient\"></xref> is the asynchronous service client.\n The examples shown in this document use a credential object named DefaultAzureCredential for authentication, which is\n appropriate for most scenarios, including local development and production environments. Additionally, we\n recommend using\n <a href=\"https://learn.microsoft.com/azure/active-directory/managed-identities-azure-resources/\">managed identity</a>\n for authentication in production environments.\n You can find more information on different ways of authenticating and their corresponding credential types in the\n <a href=\"https://learn.microsoft.com/java/api/overview/azure/identity-readme\">Azure Identity documentation\"</a>.\n </p>\n\n <p><strong>Sample: Construct a DocumentAnalysisClient with DefaultAzureCredential</strong></p>\n\n <p>The following code sample demonstrates the creation of a\n <xref uid=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisClient\"></xref>, using\n the `DefaultAzureCredentialBuilder` to configure it.</p>\n\n <!-- src_embed readme-sample-createDocumentAnalysisClientWithAAD -->\n <pre>\n DocumentAnalysisClient documentAnalysisClient = new DocumentAnalysisClientBuilder&#40;&#41;\n     .endpoint&#40;&quot;&#123;endpoint&#125;&quot;&#41;\n     .credential&#40;new DefaultAzureCredentialBuilder&#40;&#41;.build&#40;&#41;&#41;\n     .buildClient&#40;&#41;;\n </pre>\n <!-- end readme-sample-createDocumentAnalysisClientWithAAD  -->\n\n <p>Further, see the code sample below to use\n <xref uid=\"com.azure.core.credential.AzureKeyCredential\" data-throw-if-not-resolved=\"false\" data-raw-source=\"AzureKeyCredential\"></xref> for client creation.</p>\n\n <!-- src_embed readme-sample-createDocumentAnalysisClient -->\n <pre>\n DocumentAnalysisClient documentAnalysisClient = new DocumentAnalysisClientBuilder&#40;&#41;\n     .credential&#40;new AzureKeyCredential&#40;&quot;&#123;key&#125;&quot;&#41;&#41;\n     .endpoint&#40;&quot;&#123;endpoint&#125;&quot;&#41;\n     .buildClient&#40;&#41;;\n </pre>\n <!-- end readme-sample-createDocumentAnalysisClient  -->\n\n <p>Let's take a look at the analysis client scenarios and their respective usage below.</p>\n\n <br>\n\n <hr>\n\n <h2>Analyzing documents with prebuilt models</h2>\n\n <p><a href=\"https://learn.microsoft.com/en-us/azure/applied-ai-services/form-recognizer/concept-model-overview?view=form-recog-3.0.0#model-overview\">Form Recognizer models</a>\n and their associated output to help you choose the best model to address your document scenario needs.</p>\n\n <p>You can use a prebuilt document analysis or domain specific model or build a custom model tailored to your\n specific business needs and use cases.\n\n <p><strong>Sample: Analyze with the prebuilt read model from url source</strong></p>\n\n <p>The following code sample demonstrates how to analyze textual elements, such as words, lines, styles, and text\n language information from documents using the prebuilt read model.</p>\n\n <!-- src_embed readme-sample-prebuiltRead-url -->\n <pre>\n String documentUrl = &quot;documentUrl&quot;;\n\n SyncPoller&lt;OperationResult, AnalyzeResult&gt; analyzeResultPoller =\n     documentAnalysisClient.beginAnalyzeDocumentFromUrl&#40;&quot;prebuilt-read&quot;, documentUrl&#41;;\n AnalyzeResult analyzeResult = analyzeResultPoller.getFinalResult&#40;&#41;;\n\n System.out.println&#40;&quot;Detected Languages: &quot;&#41;;\n for &#40;DocumentLanguage language : analyzeResult.getLanguages&#40;&#41;&#41; &#123;\n     System.out.printf&#40;&quot;Found language with locale %s and confidence %.2f&quot;,\n         language.getLocale&#40;&#41;,\n         language.getConfidence&#40;&#41;&#41;;\n &#125;\n\n System.out.println&#40;&quot;Detected Styles: &quot;&#41;;\n for &#40;DocumentStyle style: analyzeResult.getStyles&#40;&#41;&#41; &#123;\n     if &#40;style.isHandwritten&#40;&#41;&#41; &#123;\n         System.out.printf&#40;&quot;Found handwritten content %s with confidence %.2f&quot;,\n             style.getSpans&#40;&#41;.stream&#40;&#41;.map&#40;span -&gt; analyzeResult.getContent&#40;&#41;\n                 .substring&#40;span.getOffset&#40;&#41;, span.getLength&#40;&#41;&#41;&#41;,\n             style.getConfidence&#40;&#41;&#41;;\n     &#125;\n &#125;\n\n &#47;&#47; pages\n analyzeResult.getPages&#40;&#41;.forEach&#40;documentPage -&gt; &#123;\n     System.out.printf&#40;&quot;Page has width: %.2f and height: %.2f, measured with unit: %s%n&quot;,\n         documentPage.getWidth&#40;&#41;,\n         documentPage.getHeight&#40;&#41;,\n         documentPage.getUnit&#40;&#41;&#41;;\n\n     &#47;&#47; lines\n     documentPage.getLines&#40;&#41;.forEach&#40;documentLine -&gt;\n         System.out.printf&#40;&quot;Line '%s' is within a bounding polygon %s.%n&quot;,\n             documentLine.getContent&#40;&#41;,\n             documentLine.getBoundingPolygon&#40;&#41;.stream&#40;&#41;.map&#40;point -&gt; String.format&#40;&quot;[%.2f, %.2f]&quot;, point.getX&#40;&#41;,\n                 point.getY&#40;&#41;&#41;&#41;.collect&#40;Collectors.joining&#40;&quot;, &quot;&#41;&#41;&#41;&#41;;\n &#125;&#41;;\n </pre>\n <!-- end readme-sample-prebuiltRead-url -->\n\n <p>You can also analyze a local file with prebuilt models using the\n <xref uid=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.formrecognizer.documentanalysis.DocumentAnalysisClient\"></xref>.</p>\n\n <p><strong>Sample: Analyze local file with the prebuilt read model</strong></p>\n\n <p>The following code sample demonstrates how to analyze a local file with \"prebuilt-read\" analysis model.</p>\n\n <!-- src_embed readme-sample-prebuiltRead-file -->\n <pre>\n File document = new File&#40;&quot;&#123;local&#47;file_path&#47;fileName.jpg&#125;&quot;&#41;;\n SyncPoller&lt;OperationResult, AnalyzeResult&gt; analyzeResultPoller =\n     documentAnalysisClient.beginAnalyzeDocument&#40;&quot;prebuilt-read&quot;,\n         BinaryData.fromFile&#40;document.toPath&#40;&#41;,\n             &#40;int&#41; document.length&#40;&#41;&#41;&#41;;\n AnalyzeResult analyzeResult = analyzeResultPoller.getFinalResult&#40;&#41;;\n\n System.out.println&#40;&quot;Detected Languages: &quot;&#41;;\n for &#40;DocumentLanguage language : analyzeResult.getLanguages&#40;&#41;&#41; &#123;\n     System.out.printf&#40;&quot;Found language with locale %s and confidence %.2f&quot;,\n         language.getLocale&#40;&#41;,\n         language.getConfidence&#40;&#41;&#41;;\n &#125;\n\n System.out.println&#40;&quot;Detected Styles: &quot;&#41;;\n for &#40;DocumentStyle style: analyzeResult.getStyles&#40;&#41;&#41; &#123;\n     if &#40;style.isHandwritten&#40;&#41;&#41; &#123;\n         System.out.printf&#40;&quot;Found handwritten content %s with confidence %.2f&quot;,\n             style.getSpans&#40;&#41;.stream&#40;&#41;.map&#40;span -&gt; analyzeResult.getContent&#40;&#41;\n                 .substring&#40;span.getOffset&#40;&#41;, span.getLength&#40;&#41;&#41;&#41;,\n             style.getConfidence&#40;&#41;&#41;;\n     &#125;\n &#125;\n\n &#47;&#47; pages\n analyzeResult.getPages&#40;&#41;.forEach&#40;documentPage -&gt; &#123;\n     System.out.printf&#40;&quot;Page has width: %.2f and height: %.2f, measured with unit: %s%n&quot;,\n         documentPage.getWidth&#40;&#41;,\n         documentPage.getHeight&#40;&#41;,\n         documentPage.getUnit&#40;&#41;&#41;;\n\n     &#47;&#47; lines\n     documentPage.getLines&#40;&#41;.forEach&#40;documentLine -&gt;\n         System.out.printf&#40;&quot;Line '%s' is within a bounding polygon %s.%n&quot;,\n             documentLine.getContent&#40;&#41;,\n             documentLine.getBoundingPolygon&#40;&#41;.stream&#40;&#41;.map&#40;point -&gt; String.format&#40;&quot;[%.2f, %.2f]&quot;, point.getX&#40;&#41;,\n                 point.getY&#40;&#41;&#41;&#41;.collect&#40;Collectors.joining&#40;&quot;, &quot;&#41;&#41;&#41;&#41;;\n &#125;&#41;;\n </pre>\n <!-- end readme-sample-prebuiltRead-file -->\n <p>\n For more information on which supported model you should use refer to\n <a href=\"https://learn.microsoft.com/azure/applied-ai-services/form-recognizer/overview?view=form-recog-3.0.0#which-form-recognizer-model-should-i-use\">models usage\n documentation</a>.\n\n <br>\n\n <hr>\n\n <h2>Analyzing documents with custom models</h2>\n\n <p>Custom models are trained with your own data, so they're tailored to your documents.\n For more information on how to build your own custom model, see\n <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/administration/BuildDocumentModel.java\">build a model</a>.</p>\n\n <p><strong>Sample: Analyze documents using custom trained model</strong></p>\n\n <p>This sample demonstrates how to analyze text, field values, selection marks, and table data from custom\n documents.</p>\n\n <!-- src_embed readme-sample-build-analyze -->\n <pre>\n String blobContainerUrl = &quot;&#123;SAS_URL_of_your_container_in_blob_storage&#125;&quot;;\n &#47;&#47; The shared access signature &#40;SAS&#41; Url of your Azure Blob Storage container with your custom documents.\n String prefix = &quot;&#123;blob_name_prefix&#125;&#125;&quot;;\n &#47;&#47; Build custom document analysis model\n SyncPoller&lt;OperationResult, DocumentModelDetails&gt; buildOperationPoller =\n     documentModelAdminClient.beginBuildDocumentModel&#40;blobContainerUrl,\n         DocumentModelBuildMode.TEMPLATE,\n         prefix,\n         new BuildDocumentModelOptions&#40;&#41;.setModelId&#40;&quot;my-custom-built-model&quot;&#41;.setDescription&#40;&quot;model desc&quot;&#41;,\n         Context.NONE&#41;;\n\n DocumentModelDetails customBuildModel = buildOperationPoller.getFinalResult&#40;&#41;;\n\n &#47;&#47; analyze using custom-built model\n String modelId = customBuildModel.getModelId&#40;&#41;;\n String documentUrl = &quot;documentUrl&quot;;\n SyncPoller&lt;OperationResult, AnalyzeResult&gt; analyzeDocumentPoller =\n     documentAnalysisClient.beginAnalyzeDocumentFromUrl&#40;modelId, documentUrl&#41;;\n\n AnalyzeResult analyzeResult = analyzeDocumentPoller.getFinalResult&#40;&#41;;\n\n for &#40;int i = 0; i &lt; analyzeResult.getDocuments&#40;&#41;.size&#40;&#41;; i++&#41; &#123;\n     final AnalyzedDocument analyzedDocument = analyzeResult.getDocuments&#40;&#41;.get&#40;i&#41;;\n     System.out.printf&#40;&quot;----------- Analyzing custom document %d -----------%n&quot;, i&#41;;\n     System.out.printf&#40;&quot;Analyzed document has doc type %s with confidence : %.2f%n&quot;,\n         analyzedDocument.getDocType&#40;&#41;, analyzedDocument.getConfidence&#40;&#41;&#41;;\n     analyzedDocument.getFields&#40;&#41;.forEach&#40;&#40;key, documentField&#41; -&gt; &#123;\n         System.out.printf&#40;&quot;Document Field content: %s%n&quot;, documentField.getContent&#40;&#41;&#41;;\n         System.out.printf&#40;&quot;Document Field confidence: %.2f%n&quot;, documentField.getConfidence&#40;&#41;&#41;;\n         System.out.printf&#40;&quot;Document Field Type: %s%n&quot;, documentField.getType&#40;&#41;&#41;;\n         System.out.printf&#40;&quot;Document Field found within bounding region: %s%n&quot;,\n             documentField.getBoundingRegions&#40;&#41;.toString&#40;&#41;&#41;;\n     &#125;&#41;;\n &#125;\n\n analyzeResult.getPages&#40;&#41;.forEach&#40;documentPage -&gt; &#123;\n     System.out.printf&#40;&quot;Page has width: %.2f and height: %.2f, measured with unit: %s%n&quot;,\n         documentPage.getWidth&#40;&#41;,\n         documentPage.getHeight&#40;&#41;,\n         documentPage.getUnit&#40;&#41;&#41;;\n\n     &#47;&#47; lines\n     documentPage.getLines&#40;&#41;.forEach&#40;documentLine -&gt;\n         System.out.printf&#40;&quot;Line '%s' is within a bounding box %s.%n&quot;,\n             documentLine.getContent&#40;&#41;,\n             documentLine.getBoundingPolygon&#40;&#41;.toString&#40;&#41;&#41;&#41;;\n\n     &#47;&#47; words\n     documentPage.getWords&#40;&#41;.forEach&#40;documentWord -&gt;\n         System.out.printf&#40;&quot;Word '%s' has a confidence score of %.2f.%n&quot;,\n             documentWord.getContent&#40;&#41;,\n             documentWord.getConfidence&#40;&#41;&#41;&#41;;\n &#125;&#41;;\n\n &#47;&#47; tables\n List&lt;DocumentTable&gt; tables = analyzeResult.getTables&#40;&#41;;\n for &#40;int i = 0; i &lt; tables.size&#40;&#41;; i++&#41; &#123;\n     DocumentTable documentTable = tables.get&#40;i&#41;;\n     System.out.printf&#40;&quot;Table %d has %d rows and %d columns.%n&quot;, i, documentTable.getRowCount&#40;&#41;,\n         documentTable.getColumnCount&#40;&#41;&#41;;\n     documentTable.getCells&#40;&#41;.forEach&#40;documentTableCell -&gt; &#123;\n         System.out.printf&#40;&quot;Cell '%s', has row index %d and column index %d.%n&quot;,\n             documentTableCell.getContent&#40;&#41;,\n             documentTableCell.getRowIndex&#40;&#41;, documentTableCell.getColumnIndex&#40;&#41;&#41;;\n     &#125;&#41;;\n     System.out.println&#40;&#41;;\n &#125;\n </pre>\n <!-- end readme-sample-build-analyze -->"
metadata: {}
package: "com.azure.ai.formrecognizer.documentanalysis"
artifact: com.azure:azure-ai-formrecognizer:4.1.7
