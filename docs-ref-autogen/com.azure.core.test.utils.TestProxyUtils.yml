### YamlMime:JavaType
uid: "com.azure.core.test.utils.TestProxyUtils"
fullName: "com.azure.core.test.utils.TestProxyUtils"
name: "TestProxyUtils"
nameWithType: "TestProxyUtils"
summary: "Utility functions for interaction with the test proxy."
inheritances:
- "<xref href=\"java.lang.Object?displayProperty=fullName\" data-throw-if-not-resolved=\"False\" />"
inheritedClassMethods:
- classRef: "java.lang.<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html\">Object</a>"
  methodsRef:
  - "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--\">clone</a>"
  - "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-\">equals</a>"
  - "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--\">finalize</a>"
  - "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--\">getClass</a>"
  - "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--\">hashCode</a>"
  - "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--\">notify</a>"
  - "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--\">notifyAll</a>"
  - "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\">toString</a>"
  - "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--\">wait</a>"
  - "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-\">wait</a>"
  - "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-\">wait</a>"
syntax: "public class **TestProxyUtils**"
constructors:
- uid: "com.azure.core.test.utils.TestProxyUtils.TestProxyUtils()"
  fullName: "com.azure.core.test.utils.TestProxyUtils.TestProxyUtils()"
  name: "TestProxyUtils()"
  nameWithType: "TestProxyUtils.TestProxyUtils()"
  syntax: "public TestProxyUtils()"
fields:
- uid: "com.azure.core.test.utils.TestProxyUtils.HOST_NAME_REGEX"
  fullName: "com.azure.core.test.utils.TestProxyUtils.HOST_NAME_REGEX"
  name: "HOST_NAME_REGEX"
  nameWithType: "TestProxyUtils.HOST_NAME_REGEX"
  modifiers:
  - "static"
  - "final"
  field:
    value: "(?<=http://|https://)(?<host>[^/?\\\\.]+)"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\">String</a>"
  syntax: "public static final String HOST_NAME_REGEX"
methods:
- uid: "com.azure.core.test.utils.TestProxyUtils.changeHeaders(com.azure.core.http.HttpRequest,java.net.URL,java.lang.String,java.lang.String,boolean)"
  fullName: "com.azure.core.test.utils.TestProxyUtils.changeHeaders(HttpRequest request, URL proxyUrl, String xRecordingId, String mode, boolean skipRecordingRequestBody)"
  name: "changeHeaders(HttpRequest request, URL proxyUrl, String xRecordingId, String mode, boolean skipRecordingRequestBody)"
  nameWithType: "TestProxyUtils.changeHeaders(HttpRequest request, URL proxyUrl, String xRecordingId, String mode, boolean skipRecordingRequestBody)"
  summary: "Adds headers required for communication with the test proxy."
  modifiers:
  - "static"
  parameters:
  - description: "The request to add headers to."
    name: "request"
    type: "<xref href=\"com.azure.core.http.HttpRequest?alt=com.azure.core.http.HttpRequest&text=HttpRequest\" data-throw-if-not-resolved=\"False\" />"
  - description: "The <xref uid=\"java.net.URL\" data-throw-if-not-resolved=\"false\" data-raw-source=\"URL\"></xref> the proxy lives at."
    name: "proxyUrl"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\">URL</a>"
  - description: "The x-recording-id value for the current session."
    name: "xRecordingId"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\">String</a>"
  - description: "The current test proxy mode."
    name: "mode"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\">String</a>"
  - description: "Flag indicating to skip recording request bodies when tests run in Record mode."
    name: "skipRecordingRequestBody"
    type: "<xref href=\"boolean?alt=boolean&text=boolean\" data-throw-if-not-resolved=\"False\" />"
  syntax: "public static void changeHeaders(HttpRequest request, URL proxyUrl, String xRecordingId, String mode, boolean skipRecordingRequestBody)"
  desc: "Adds headers required for communication with the test proxy."
- uid: "com.azure.core.test.utils.TestProxyUtils.checkForTestProxyErrors(com.azure.core.http.HttpResponse)"
  fullName: "com.azure.core.test.utils.TestProxyUtils.checkForTestProxyErrors(HttpResponse httpResponse)"
  name: "checkForTestProxyErrors(HttpResponse httpResponse)"
  nameWithType: "TestProxyUtils.checkForTestProxyErrors(HttpResponse httpResponse)"
  summary: "Checks the return from a request through the test proxy for special error headers."
  modifiers:
  - "static"
  parameters:
  - description: "The <xref uid=\"com.azure.core.http.HttpResponse\" data-throw-if-not-resolved=\"false\" data-raw-source=\"HttpResponse\"></xref> from the test proxy."
    name: "httpResponse"
    type: "<xref href=\"com.azure.core.http.HttpResponse?alt=com.azure.core.http.HttpResponse&text=HttpResponse\" data-throw-if-not-resolved=\"False\" />"
  syntax: "public static void checkForTestProxyErrors(HttpResponse httpResponse)"
  desc: "Checks the return from a request through the test proxy for special error headers."
- uid: "com.azure.core.test.utils.TestProxyUtils.createAddSanitizersRequest(java.util.List<com.azure.core.test.models.TestProxySanitizer>,java.net.URL)"
  fullName: "com.azure.core.test.utils.TestProxyUtils.createAddSanitizersRequest(List<TestProxySanitizer> sanitizers, URL proxyUrl)"
  name: "createAddSanitizersRequest(List<TestProxySanitizer> sanitizers, URL proxyUrl)"
  nameWithType: "TestProxyUtils.createAddSanitizersRequest(List<TestProxySanitizer> sanitizers, URL proxyUrl)"
  summary: "Creates a request to bulk add sanitizers to the test proxy server."
  modifiers:
  - "static"
  parameters:
  - description: "The list of sanitizers to be added."
    name: "sanitizers"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\">List</a>&lt;<xref href=\"com.azure.core.test.models.TestProxySanitizer?alt=com.azure.core.test.models.TestProxySanitizer&text=TestProxySanitizer\" data-throw-if-not-resolved=\"False\" />&gt;"
  - description: "The proxyUrl to use when constructing requests."
    name: "proxyUrl"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\">URL</a>"
  syntax: "public static HttpRequest createAddSanitizersRequest(List<TestProxySanitizer> sanitizers, URL proxyUrl)"
  desc: "Creates a request to bulk add sanitizers to the test proxy server.\n\nFor more information about adding bulk sanitizers see the [Passing Sanitizers in Bulk][] wiki.\n\n\n[Passing Sanitizers in Bulk]: https://github.com/Azure/azure-sdk-tools/tree/feature/add-bulk-sanitizers/tools/test-proxy/Azure.Sdk.Tools.TestProxy#passing-sanitizers-in-bulk"
  returns:
    description: "The <xref uid=\"com.azure.core.http.HttpRequest\" data-throw-if-not-resolved=\"false\" data-raw-source=\"request\"></xref> to be sent."
    type: "<xref href=\"com.azure.core.http.HttpRequest?alt=com.azure.core.http.HttpRequest&text=HttpRequest\" data-throw-if-not-resolved=\"False\" />"
- uid: "com.azure.core.test.utils.TestProxyUtils.getAssetJsonFile(java.io.File,java.nio.file.Path)"
  fullName: "com.azure.core.test.utils.TestProxyUtils.getAssetJsonFile(File recordFile, Path testClassPath)"
  name: "getAssetJsonFile(File recordFile, Path testClassPath)"
  nameWithType: "TestProxyUtils.getAssetJsonFile(File recordFile, Path testClassPath)"
  summary: "Get the assets json file path if it exists."
  modifiers:
  - "static"
  parameters:
  - description: "the record/playback file"
    name: "recordFile"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html\">File</a>"
  - description: "the test class path"
    name: "testClassPath"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html\">Path</a>"
  syntax: "public static String getAssetJsonFile(File recordFile, Path testClassPath)"
  desc: "Get the assets json file path if it exists."
  returns:
    description: "the assets json file path if it exists."
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\">String</a>"
- uid: "com.azure.core.test.utils.TestProxyUtils.getMatcherRequests(java.util.List<com.azure.core.test.models.TestProxyRequestMatcher>,java.net.URL)"
  fullName: "com.azure.core.test.utils.TestProxyUtils.getMatcherRequests(List<TestProxyRequestMatcher> matchers, URL proxyUrl)"
  name: "getMatcherRequests(List<TestProxyRequestMatcher> matchers, URL proxyUrl)"
  nameWithType: "TestProxyUtils.getMatcherRequests(List<TestProxyRequestMatcher> matchers, URL proxyUrl)"
  summary: "Creates a <xref uid=\"java.util.List\" data-throw-if-not-resolved=\"false\" data-raw-source=\"List\"></xref> of <xref uid=\"com.azure.core.http.HttpRequest\" data-throw-if-not-resolved=\"false\" data-raw-source=\"HttpRequest\"></xref> to be sent to the test proxy to register matchers."
  modifiers:
  - "static"
  parameters:
  - description: "The <xref uid=\"com.azure.core.test.models.TestProxyRequestMatcher\" data-throw-if-not-resolved=\"false\" data-raw-source=\"TestProxyRequestMatcher\"></xref>s to encode into requests."
    name: "matchers"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\">List</a>&lt;<xref href=\"com.azure.core.test.models.TestProxyRequestMatcher?alt=com.azure.core.test.models.TestProxyRequestMatcher&text=TestProxyRequestMatcher\" data-throw-if-not-resolved=\"False\" />&gt;"
  - description: "The proxyUrl to use when constructing requests."
    name: "proxyUrl"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\">URL</a>"
  syntax: "public static List<HttpRequest> getMatcherRequests(List<TestProxyRequestMatcher> matchers, URL proxyUrl)"
  desc: "Creates a <xref uid=\"java.util.List\" data-throw-if-not-resolved=\"false\" data-raw-source=\"List\"></xref> of <xref uid=\"com.azure.core.http.HttpRequest\" data-throw-if-not-resolved=\"false\" data-raw-source=\"HttpRequest\"></xref> to be sent to the test proxy to register matchers."
  returns:
    description: "The <xref uid=\"com.azure.core.http.HttpRequest\" data-throw-if-not-resolved=\"false\" data-raw-source=\"HttpRequest\"></xref>s to send to the proxy."
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\">List</a>&lt;<xref href=\"com.azure.core.http.HttpRequest?alt=com.azure.core.http.HttpRequest&text=HttpRequest\" data-throw-if-not-resolved=\"False\" />&gt;"
- uid: "com.azure.core.test.utils.TestProxyUtils.getProxyProcessName()"
  fullName: "com.azure.core.test.utils.TestProxyUtils.getProxyProcessName()"
  name: "getProxyProcessName()"
  nameWithType: "TestProxyUtils.getProxyProcessName()"
  summary: "Gets the process name of the test proxy binary."
  modifiers:
  - "static"
  syntax: "public static String getProxyProcessName()"
  desc: "Gets the process name of the test proxy binary."
  returns:
    description: "The platform specific process name."
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\">String</a>"
- uid: "com.azure.core.test.utils.TestProxyUtils.getProxyUrl()"
  fullName: "com.azure.core.test.utils.TestProxyUtils.getProxyUrl()"
  name: "getProxyUrl()"
  nameWithType: "TestProxyUtils.getProxyUrl()"
  summary: "Gets the current URL for the test proxy."
  modifiers:
  - "static"
  syntax: "public static URL getProxyUrl()"
  desc: "Gets the current URL for the test proxy."
  returns:
    description: "The <xref uid=\"java.net.URL\" data-throw-if-not-resolved=\"false\" data-raw-source=\"URL\"></xref> location of the test proxy."
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\">URL</a>"
- uid: "com.azure.core.test.utils.TestProxyUtils.getRemoveSanitizerRequest()"
  fullName: "com.azure.core.test.utils.TestProxyUtils.getRemoveSanitizerRequest()"
  name: "getRemoveSanitizerRequest()"
  nameWithType: "TestProxyUtils.getRemoveSanitizerRequest()"
  summary: "Creates a request to remove sanitizers from the request."
  modifiers:
  - "static"
  syntax: "public static HttpRequest getRemoveSanitizerRequest()"
  desc: "Creates a request to remove sanitizers from the request."
  returns:
    description: "The <xref uid=\"com.azure.core.http.HttpRequest\" data-throw-if-not-resolved=\"false\" data-raw-source=\"request\"></xref> to be sent."
    type: "<xref href=\"com.azure.core.http.HttpRequest?alt=com.azure.core.http.HttpRequest&text=HttpRequest\" data-throw-if-not-resolved=\"False\" />"
- uid: "com.azure.core.test.utils.TestProxyUtils.getSanitizerRequests(java.util.List<com.azure.core.test.models.TestProxySanitizer>,java.net.URL)"
  fullName: "com.azure.core.test.utils.TestProxyUtils.getSanitizerRequests(List<TestProxySanitizer> sanitizers, URL proxyUrl)"
  name: "getSanitizerRequests(List<TestProxySanitizer> sanitizers, URL proxyUrl)"
  nameWithType: "TestProxyUtils.getSanitizerRequests(List<TestProxySanitizer> sanitizers, URL proxyUrl)"
  summary: "Creates a list of sanitizer requests to be sent to the test proxy server."
  deprecatedTag: "Use <xref uid=\"com.azure.core.test.utils.TestProxyUtils.createAddSanitizersRequest(java.util.List<com.azure.core.test.models.TestProxySanitizer>,java.net.URL)\" data-throw-if-not-resolved=\"false\" data-raw-source=\"#createAddSanitizersRequest(List, URL)\"></xref> instead as this will create a bulk Http<wbr>Request for setting the sanitizers for a test proxy session instead of a request per sanitizer."
  modifiers:
  - "static"
  parameters:
  - description: "the list of sanitizers to be added."
    name: "sanitizers"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\">List</a>&lt;<xref href=\"com.azure.core.test.models.TestProxySanitizer?alt=com.azure.core.test.models.TestProxySanitizer&text=TestProxySanitizer\" data-throw-if-not-resolved=\"False\" />&gt;"
  - description: "The proxyUrl to use when constructing requests."
    name: "proxyUrl"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\">URL</a>"
  syntax: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html\">@Deprecated</a></br>public static List<HttpRequest> getSanitizerRequests(List<TestProxySanitizer> sanitizers, URL proxyUrl)"
  desc: "Creates a list of sanitizer requests to be sent to the test proxy server."
  hasDeprecatedTag: true
  returns:
    description: "the list of sanitizer <xref uid=\"com.azure.core.http.HttpRequest\" data-throw-if-not-resolved=\"false\" data-raw-source=\"requests\"></xref> to be sent."
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\">List</a>&lt;<xref href=\"com.azure.core.http.HttpRequest?alt=com.azure.core.http.HttpRequest&text=HttpRequest\" data-throw-if-not-resolved=\"False\" />&gt;"
- uid: "com.azure.core.test.utils.TestProxyUtils.getTestProxyVersion(java.nio.file.Path)"
  fullName: "com.azure.core.test.utils.TestProxyUtils.getTestProxyVersion(Path testClassPath)"
  name: "getTestProxyVersion(Path testClassPath)"
  nameWithType: "TestProxyUtils.getTestProxyVersion(Path testClassPath)"
  summary: "Finds the test proxy version in the source tree."
  modifiers:
  - "static"
  parameters:
  - description: "the test class path"
    name: "testClassPath"
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html\">Path</a>"
  syntax: "public static String getTestProxyVersion(Path testClassPath)"
  desc: "Finds the test proxy version in the source tree."
  returns:
    description: "The version string to use."
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\">String</a>"
- uid: "com.azure.core.test.utils.TestProxyUtils.loadSanitizers()"
  fullName: "com.azure.core.test.utils.TestProxyUtils.loadSanitizers()"
  name: "loadSanitizers()"
  nameWithType: "TestProxyUtils.loadSanitizers()"
  summary: "Registers the default set of sanitizers for sanitizing request and responses"
  modifiers:
  - "static"
  syntax: "public static List<TestProxySanitizer> loadSanitizers()"
  desc: "Registers the default set of sanitizers for sanitizing request and responses"
  returns:
    description: "the list of default sanitizers to be added."
    type: "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\">List</a>&lt;<xref href=\"com.azure.core.test.models.TestProxySanitizer?alt=com.azure.core.test.models.TestProxySanitizer&text=TestProxySanitizer\" data-throw-if-not-resolved=\"False\" />&gt;"
- uid: "com.azure.core.test.utils.TestProxyUtils.resetTestProxyData(com.azure.core.http.HttpResponse)"
  fullName: "com.azure.core.test.utils.TestProxyUtils.resetTestProxyData(HttpResponse response)"
  name: "resetTestProxyData(HttpResponse response)"
  nameWithType: "TestProxyUtils.resetTestProxyData(HttpResponse response)"
  summary: "Sets the response URL back to the original URL before returning it through the pipeline."
  modifiers:
  - "static"
  parameters:
  - description: "The <xref uid=\"com.azure.core.http.HttpResponse\" data-throw-if-not-resolved=\"false\" data-raw-source=\"HttpResponse\"></xref> to modify."
    name: "response"
    type: "<xref href=\"com.azure.core.http.HttpResponse?alt=com.azure.core.http.HttpResponse&text=HttpResponse\" data-throw-if-not-resolved=\"False\" />"
  syntax: "public static HttpResponse resetTestProxyData(HttpResponse response)"
  desc: "Sets the response URL back to the original URL before returning it through the pipeline."
  returns:
    description: "The modified response."
    type: "<xref href=\"com.azure.core.http.HttpResponse?alt=com.azure.core.http.HttpResponse&text=HttpResponse\" data-throw-if-not-resolved=\"False\" />"
- uid: "com.azure.core.test.utils.TestProxyUtils.setCompareBodiesMatcher()"
  fullName: "com.azure.core.test.utils.TestProxyUtils.setCompareBodiesMatcher()"
  name: "setCompareBodiesMatcher()"
  nameWithType: "TestProxyUtils.setCompareBodiesMatcher()"
  summary: "Set comparing bodies to false when running in playback and Record<wbr>Without<wbr>Request<wbr>Body is set for the test."
  modifiers:
  - "static"
  syntax: "public static HttpRequest setCompareBodiesMatcher()"
  desc: "Set comparing bodies to false when running in playback and RecordWithoutRequestBody is set for the test."
  returns:
    description: "the HttpRequest for setting compare bodies matcher to false."
    type: "<xref href=\"com.azure.core.http.HttpRequest?alt=com.azure.core.http.HttpRequest&text=HttpRequest\" data-throw-if-not-resolved=\"False\" />"
type: "class"
desc: "Utility functions for interaction with the test proxy."
metadata: {}
package: "com.azure.core.test.utils"
artifact: com.azure:azure-core-test:1.26.2
