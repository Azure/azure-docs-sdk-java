### YamlMime:JavaPackage
uid: "com.azure.ai.metricsadvisor"
fullName: "com.azure.ai.metricsadvisor"
name: "com.azure.ai.metricsadvisor"
summary: "<p><a href=\"https://learn.microsoft.com/azure/ai-services/metrics-advisor/\">Azure Metrics Advisor</a> is a\n  cloud-based service provided by Microsoft Azure that is designed to help organizations monitor\n and analyze metrics and time-series data from various sources."
classes:
- "com.azure.ai.metricsadvisor.MetricsAdvisorAsyncClient"
- "com.azure.ai.metricsadvisor.MetricsAdvisorClient"
- "com.azure.ai.metricsadvisor.MetricsAdvisorClientBuilder"
enums:
- "com.azure.ai.metricsadvisor.MetricsAdvisorServiceVersion"
desc: "<p><a href=\"https://learn.microsoft.com/azure/ai-services/metrics-advisor/\">Azure Metrics Advisor</a> is a\n  cloud-based service provided by Microsoft Azure that is designed to help organizations monitor\n and analyze metrics and time-series data from various sources. It is particularly focused on aiding in the\n  detection of anomalies, trends, and patterns within this data, which can be invaluable for improving operational\n efficiency, identifying issues early, and making data-driven decisions.</p>\n\n <p>Here are some key features and capabilities of Azure Metrics Advisor:</p>\n\n <ul>\n <li>Anomaly Detection: Azure Metrics Advisor employs machine learning algorithms to automatically identify\n anomalies in time-series data. It can differentiate between normal variations and unusual patterns, helping\n organizations detect issues or opportunities for improvement.</li>\n\n <li>Time-Series Data Ingestion: The service allows you to ingest time-series data from various sources, including\n Azure Monitor, Application Insights, IoT Hub, and custom data sources. This flexibility enables you to monitor a wide\n range of metrics.</li>\n\n <li>Data Exploration: Users can explore their data, view historical trends, and gain insights into the behavior of\n various metrics over time. This can be useful for identifying seasonal patterns and understanding the normal\n behavior of your systems.</li>\n\n <li>Integration with Azure Services: Azure Metrics Advisor integrates with other Azure services, such as Azure\n Monitor and Azure Data Explorer, making it part of a broader ecosystem for monitoring and analytics.</li>\n\n <li>Alerts and Notifications: You can set up alerts and notifications based on detected anomalies or specific\n thresholds, ensuring that you are informed promptly when issues arise.</li>\n </ul>\n\n <h2>Getting Started</h2>\n\n <p>The Azure Metrics Advisor library provides advisor clients like\n <xref uid=\"com.azure.ai.metricsadvisor.MetricsAdvisorAsyncClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.MetricsAdvisorAsyncClient\"></xref>\n and <xref uid=\"com.azure.ai.metricsadvisor.MetricsAdvisorClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.MetricsAdvisorClient\"></xref> to connect to the Metrics Advisor\n Azure Cognitive Service to perform data monitoring.\n It also provides administration clients like\n <xref uid=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient\"></xref>\n and <xref uid=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationAsyncClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationAsyncClient\"></xref> to\n build and manage models from custom documents.</p>\n\n <p>Service clients are the point of interaction for developers to use Azure Form Recognizer.\n <xref uid=\"com.azure.ai.metricsadvisor.MetricsAdvisorClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.MetricsAdvisorClient\"></xref> is the synchronous service client and\n <xref uid=\"com.azure.ai.metricsadvisor.MetricsAdvisorAsyncClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.MetricsAdvisorAsyncClient\"></xref> is the asynchronous service client.\n The examples shown in this document use a credential object named DefaultAzureCredential for authentication, which is\n appropriate for most scenarios, including local development and production environments. Additionally, we\n recommend using\n <a href=\"https://learn.microsoft.com/azure/active-directory/managed-identities-azure-resources/\">managed identity</a>\n for authentication in production environments.\n You can find more information on different ways of authenticating and their corresponding credential types in the\n <a href=\"https://learn.microsoft.com/java/api/overview/azure/identity-readme\">Azure Identity documentation\"</a>.\n </p>\n\n <p><strong>Sample: Construct a MetricsAdvisorClient with DefaultAzureCredential</strong></p>\n\n <p>The following code sample demonstrates the creation of a\n <xref uid=\"com.azure.ai.metricsadvisor.MetricsAdvisorClient\" data-throw-if-not-resolved=\"false\" data-raw-source=\"com.azure.ai.metricsadvisor.MetricsAdvisorClient\"></xref>, using\n the `DefaultAzureCredentialBuilder` to configure it.</p>\n\n <!-- src_embed com.azure.ai.metricsadvisor.MetricsAdvisorClient.withAAD -->\n <pre>\n MetricsAdvisorClient metricsAdvisorClient =\n     new MetricsAdvisorClientBuilder&#40;&#41;\n         .credential&#40;new DefaultAzureCredentialBuilder&#40;&#41;.build&#40;&#41;&#41;\n         .endpoint&#40;&quot;&#123;endpoint&#125;&quot;&#41;\n         .buildClient&#40;&#41;;\n </pre>\n <!-- end com.azure.ai.metricsadvisor.MetricsAdvisorClient.withAAD  -->\n\n <p>Further, see the code sample below to use\n <xref uid=\"com.azure.ai.metricsadvisor.models.MetricsAdvisorKeyCredential\" data-throw-if-not-resolved=\"false\" data-raw-source=\"MetricsAdvisorKeyCredential\"></xref> for client creation.</p>\n\n <!-- src_embed com.azure.ai.metricsadvisor.MetricsAdvisorClient.instantiation -->\n <pre>\n MetricsAdvisorClient metricsAdvisorClient =\n     new MetricsAdvisorClientBuilder&#40;&#41;\n         .credential&#40;new MetricsAdvisorKeyCredential&#40;&quot;&#123;subscription_key&#125;&quot;, &quot;&#123;api_key&#125;&quot;&#41;&#41;\n         .endpoint&#40;&quot;&#123;endpoint&#125;&quot;&#41;\n         .buildClient&#40;&#41;;\n </pre>\n <!-- end com.azure.ai.metricsadvisor.MetricsAdvisorClient.instantiation  -->\n\n <p>Let's take a look at the advisor client scenarios and their respective usage below.</p>\n\n <br>\n\n <hr>\n <h2>Get the time series data from metric for you own ingested data</h2>\n\n <p><strong>Sample: Given a metric list the time series data from a metricId</strong></p>\n\n <p>The following code sample demonstrates to get metric data time series information.</p>\n\n <!-- src_embed com.azure.ai.metricsadvisor.MetricsAdvisorClient.listMetricSeriesData#String-List-OffsetDateTime-OffsetDateTime -->\n <pre>\n final OffsetDateTime startTime = OffsetDateTime.parse&#40;&quot;2020-09-09T00:00:00Z&quot;&#41;;\n final OffsetDateTime endTime = OffsetDateTime.parse&#40;&quot;2020-09-09T12:00:00Z&quot;&#41;;\n\n metricsAdvisorClient.listMetricSeriesData&#40;&quot;metricId&quot;,\n     Arrays.asList&#40;new DimensionKey&#40;new HashMap&lt;String, String&gt;&#40;&#41; &#123;&#123;\n             put&#40;&quot;Dim1&quot;, &quot;value1&quot;&#41;;\n         &#125;&#125;&#41;&#41;, startTime, endTime&#41;\n     .forEach&#40;metricSeriesData -&gt; &#123;\n         System.out.println&#40;&quot;List of data points for this series:&quot;&#41;;\n         System.out.println&#40;metricSeriesData.getMetricValues&#40;&#41;&#41;;\n         System.out.println&#40;&quot;Timestamps of the data related to this time series:&quot;&#41;;\n         System.out.println&#40;metricSeriesData.getTimestamps&#40;&#41;&#41;;\n         System.out.printf&#40;&quot;Series Key:&quot;&#41;;\n         System.out.println&#40;metricSeriesData.getSeriesKey&#40;&#41;.asMap&#40;&#41;&#41;;\n     &#125;&#41;;\n </pre>\n <!-- end com.azure.ai.metricsadvisor.MetricsAdvisorClient.listMetricSeriesData#String-List-OffsetDateTime-OffsetDateTime -->\n\n <p><strong>Note:</strong> For asynchronous sample, refer to <xref uid=\"com.azure.ai.metricsadvisor.MetricsAdvisorAsyncClient#listMetricSeriesData(java.lang.String, java.util.List, java.time.OffsetDateTime, java.time.OffsetDateTime)\" data-throw-if-not-resolved=\"false\" data-raw-source=\"AsyncListMetricSeriesData\"></xref> API.</p>\n\n <br>\n\n <hr>\n\n <h2>Fetch the anomalies identified by an anomaly detection configuration</h2>\n\n <p>You can use the detected anomalies reflect actual anomalies in your data.</p>\n\n <p><strong>Sample: Query anomalies under anomaly detection configuration</strong></p>\n\n <p>The following code sample demonstrates how fetch all anomalies detected for a specific anomaly detection\n configuration.</p>\n\n <!-- src_embed com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient.createDetectionConfigWithResponse#String-AnomalyDetectionConfiguration-Context -->\n <pre>\n final MetricWholeSeriesDetectionCondition wholeSeriesCondition = new MetricWholeSeriesDetectionCondition&#40;&#41;\n     .setConditionOperator&#40;DetectionConditionOperator.OR&#41;\n     .setSmartDetectionCondition&#40;new SmartDetectionCondition&#40;\n         50,\n         AnomalyDetectorDirection.BOTH,\n         new SuppressCondition&#40;50, 50&#41;&#41;&#41;\n     .setHardThresholdCondition&#40;new HardThresholdCondition&#40;\n         AnomalyDetectorDirection.BOTH,\n         new SuppressCondition&#40;5, 5&#41;&#41;\n         .setLowerBound&#40;0.0&#41;\n         .setUpperBound&#40;100.0&#41;&#41;\n     .setChangeThresholdCondition&#40;new ChangeThresholdCondition&#40;\n         50,\n         30,\n         true,\n         AnomalyDetectorDirection.BOTH,\n         new SuppressCondition&#40;2, 2&#41;&#41;&#41;;\n\n final String detectionConfigName = &quot;my_detection_config&quot;;\n final String detectionConfigDescription = &quot;anomaly detection config for metric&quot;;\n final AnomalyDetectionConfiguration detectionConfig\n     = new AnomalyDetectionConfiguration&#40;detectionConfigName&#41;\n     .setDescription&#40;detectionConfigDescription&#41;\n     .setWholeSeriesDetectionCondition&#40;wholeSeriesCondition&#41;;\n\n final String metricId = &quot;0b836da8-10e6-46cd-8f4f-28262e113a62&quot;;\n Response&lt;AnomalyDetectionConfiguration&gt; response = metricsAdvisorAdminClient\n     .createDetectionConfigWithResponse&#40;metricId, detectionConfig, Context.NONE&#41;;\n System.out.printf&#40;&quot;Response statusCode: %d%n&quot;, response.getStatusCode&#40;&#41;&#41;;\n AnomalyDetectionConfiguration createdDetectionConfig = response.getValue&#40;&#41;;\n System.out.printf&#40;&quot;Detection config Id: %s%n&quot;, createdDetectionConfig.getId&#40;&#41;&#41;;\n System.out.printf&#40;&quot;Name: %s%n&quot;, createdDetectionConfig.getName&#40;&#41;&#41;;\n System.out.printf&#40;&quot;Description: %s%n&quot;, createdDetectionConfig.getDescription&#40;&#41;&#41;;\n System.out.printf&#40;&quot;MetricId: %s%n&quot;, createdDetectionConfig.getMetricId&#40;&#41;&#41;;\n </pre>\n <!-- end com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationClient.createDetectionConfigWithResponse#String-AnomalyDetectionConfiguration-Context -->\n\n <p><strong>Note:</strong> For asynchronous sample, refer to <xref uid=\"com.azure.ai.metricsadvisor.administration.MetricsAdvisorAdministrationAsyncClient#createDetectionConfigWithResponse(java.lang.String, com.azure.ai.metricsadvisor.administration.models.AnomalyDetectionConfiguration)\" data-throw-if-not-resolved=\"false\" data-raw-source=\"AsyncCreateDetectionConfigWithResponse\"></xref> API.</p>\n\n <br>\n\n <hr>\n\n <h2>List the root causes for an incident</h2>\n\n <p>Metrics Advisor will automatically group anomalies that share the same root cause into one incident.\n An incident usually indicates a real issue, Metrics Advisor performs analysis on top of it and provides automatic\n root cause analysis insights.</p>\n\n <p><strong>Sample: Find all the possible root causes for an incident</strong></p>\n\n <!-- src_embed com.azure.ai.metricsadvisor.MetricsAdvisorClient.listIncidentRootCauses#String-String -->\n <pre>\n final String detectionConfigurationId = &quot;c0dddf2539f-b804-4ab9-a70f-0da0c89c76d8&quot;;\n final String incidentId = &quot;c5thh0f2539f-b804-4ab9-a70f-0da0c89c456d&quot;;\n\n metricsAdvisorClient.listIncidentRootCauses&#40;detectionConfigurationId, incidentId&#41;\n     .forEach&#40;incidentRootCause -&gt; &#123;\n         System.out.printf&#40;&quot;Description: %s%n&quot;, incidentRootCause.getDescription&#40;&#41;&#41;;\n         System.out.printf&#40;&quot;Series Key:&quot;&#41;;\n         System.out.println&#40;incidentRootCause.getSeriesKey&#40;&#41;.asMap&#40;&#41;&#41;;\n         System.out.printf&#40;&quot;Confidence for the detected incident root cause %.2f%n&quot;,\n             incidentRootCause.getContributionScore&#40;&#41;&#41;;\n     &#125;&#41;;\n\n </pre>\n <!-- end com.azure.ai.metricsadvisor.MetricsAdvisorClient.listIncidentRootCauses#String-String -->\n <p><strong>Note:</strong> For asynchronous sample, refer to <xref uid=\"com.azure.ai.metricsadvisor.MetricsAdvisorClient#listIncidentRootCauses(java.lang.String, java.lang.String)\" data-throw-if-not-resolved=\"false\" data-raw-source=\"AsyncListIncidentRootCauses\"></xref> API.</p>"
metadata: {}
package: "com.azure.ai.metricsadvisor"
artifact: com.azure:azure-ai-metricsadvisor:1.1.20
