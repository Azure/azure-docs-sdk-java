### YamlMime:JavaMember
uid: "com.microsoft.azure.batch.protocol.models.ImageReference.withVirtualMachineImageId*"
fullName: "com.microsoft.azure.batch.protocol.models.ImageReference.withVirtualMachineImageId"
name: "withVirtualMachineImageId"
nameWithType: "ImageReference.withVirtualMachineImageId"
members:
- uid: "com.microsoft.azure.batch.protocol.models.ImageReference.withVirtualMachineImageId(java.lang.String)"
  fullName: "com.microsoft.azure.batch.protocol.models.ImageReference.withVirtualMachineImageId(String virtualMachineImageId)"
  name: "withVirtualMachineImageId(String virtualMachineImageId)"
  nameWithType: "ImageReference.withVirtualMachineImageId(String virtualMachineImageId)"
  summary: "Set this property is mutually exclusive with other ImageReference properties. The Shared Image Gallery Image must have replicas in the same region and must be in the same subscription as the Azure Batch account. If the image version is not specified in the imageId, the latest version will be used. For information about the firewall settings for the Batch Compute Node agent to communicate with the Batch service see https://docs.microsoft.com/en-us/azure/batch/batch-api-basics\\#virtual-network-vnet-and-firewall-configuration."
  parameters:
  - description: "the virtualMachineImageId value to set"
    name: "virtualMachineImageId"
    type: "<xref href=\"java.lang.String?alt=java.lang.String&text=String\" data-throw-if-not-resolved=\"False\" />"
  syntax: "public ImageReference withVirtualMachineImageId(String virtualMachineImageId)"
  returns:
    description: "the ImageReference object itself."
    type: "<xref href=\"com.microsoft.azure.batch.protocol.models.ImageReference?alt=com.microsoft.azure.batch.protocol.models.ImageReference&text=ImageReference\" data-throw-if-not-resolved=\"False\" />"
type: "method"
metadata: {}
package: "com.microsoft.azure.batch.protocol.models"
artifact: com.microsoft.azure:azure-batch:9.0.0
