### YamlMime:JavaMember
uid: "com.microsoft.azure.sdk.iot.provisioning.service.ProvisioningServiceClient.createOrUpdateIndividualEnrollment*"
fullName: "com.microsoft.azure.sdk.iot.provisioning.service.ProvisioningServiceClient.createOrUpdateIndividualEnrollment"
name: "createOrUpdateIndividualEnrollment"
nameWithType: "ProvisioningServiceClient.createOrUpdateIndividualEnrollment"
members:
- uid: "com.microsoft.azure.sdk.iot.provisioning.service.ProvisioningServiceClient.createOrUpdateIndividualEnrollment(com.microsoft.azure.sdk.iot.provisioning.service.configs.IndividualEnrollment)"
  fullName: "com.microsoft.azure.sdk.iot.provisioning.service.ProvisioningServiceClient.createOrUpdateIndividualEnrollment(IndividualEnrollment individualEnrollment)"
  name: "createOrUpdateIndividualEnrollment(IndividualEnrollment individualEnrollment)"
  nameWithType: "ProvisioningServiceClient.createOrUpdateIndividualEnrollment(IndividualEnrollment individualEnrollment)"
  summary: "Create or update a individual Device Enrollment record.\n\nThis API creates a new individualEnrollment or update a existed one. All enrollments in the Device Provisioning Service contains a unique identifier called registrationId. If this API is called for an individualEnrollment with a registrationId that already exists, it will replace the existed individualEnrollment information by the new one. On the other hand, if the registrationId does not exit, this API will create a new individualEnrollment.\n\nTo use the Device Provisioning Service API, you must include the follow package on your application.\n\n```java\n// Include the following imports to use the Device Provisioning Service APIs.\n import com.microsoft.azure.sdk.iot.provisioning.service.*;\n```\n\n**Sample:**\n\nThe follow code will create a new individualEnrollment that will provisioning the ContosoDevice1000 to the ContosoHub.azure-devices.net using TPM attestation.\n\n```java\n// IndividualEnrollment information.\n private static final String PROVISIONING_CONNECTION_STRING = \"HostName=ContosoProvisioning.azure-devices-provisioning.net;\" +\n                                                              \"SharedAccessKeyName=contosoprovisioningserviceowner;\" +\n                                                              \"SharedAccessKey=0000000000000000000000000000000000000000000=\";\n private static final String TPM_ENDORSEMENT_KEY = \"tpm-endorsement-key\";\n private static final String REGISTRATION_ID = \"registrationId-1\";\n private static final String DEVICE_ID = \"ContosoDevice1000\";\n private static final String IOTHUB_HOST_NAME = \"ContosoHub.azure-devices.net\";\n\n public static void main(String[] args) throws IOException, URISyntaxException, ProvisioningServiceClientException\n {\n     // Create a Device Provisioning Service Client.\n     DeviceProvisioningServiceClient deviceProvisioningServiceClient =\n         DeviceProvisioningServiceClient.createFromConnectionString(PROVISIONING_CONNECTION_STRING);\n\n     // Create a new individualEnrollment configurations.\n     Attestation attestation = new TpmAttestation(TPM_ENDORSEMENT_KEY);\n     IndividualEnrollment individualEnrollment =\n        new IndividualEnrollment(\n             REGISTRATION_ID,\n             attestation);\n     individualEnrollment.setDeviceId(DEVICE_ID);\n     individualEnrollment.setIotHubHostName(IOTHUB_HOST_NAME);\n     individualEnrollment.setProvisioningStatus(ProvisioningStatus.DISABLED);\n\n     // Create a new individualEnrollment.\n     IndividualEnrollment enrollmentResult =  deviceProvisioningServiceClient.createOrUpdateIndividualEnrollment(individualEnrollment);\n }\n```\n\nIf the registrationId already exists, this method will update existed enrollments. Note that update the individualEnrollment will not change the status of the device that was already registered using the old individualEnrollment.\n\nThe follow code will update the provisioningStatus of the previous individualEnrollment from **disabled** to **enabled**.\n\n```java\n// IndividualEnrollment information.\n private static final String PROVISIONING_CONNECTION_STRING = \"HostName=ContosoProvisioning.azure-devices-provisioning.net;\" +\n                                                              \"SharedAccessKeyName=contosoprovisioningserviceowner;\" +\n                                                              \"SharedAccessKey=0000000000000000000000000000000000000000000=\";\n private static final String REGISTRATION_ID = \"registrationId-1\";\n\n public static void main(String[] args) throws IOException, URISyntaxException, ProvisioningServiceClientException\n {\n     // Create a Device Provisioning Service Client.\n     DeviceProvisioningServiceClient deviceProvisioningServiceClient =\n         DeviceProvisioningServiceClient.createFromConnectionString(PROVISIONING_CONNECTION_STRING);\n\n     // Get the content of the previous individualEnrollment.\n     IndividualEnrollment individualEnrollment =  deviceProvisioningServiceClient.getIndividualEnrollment(REGISTRATION_ID);\n\n     // Change the provisioning status, from disabled to enabled\n     individualEnrollment.setProvisioningStatus(ProvisioningStatus.ENABLED);\n\n     // Update the individualEnrollment information.\n     IndividualEnrollment enrollmentResult =  deviceProvisioningServiceClient.createOrUpdateIndividualEnrollment(individualEnrollment);\n }\n```"
  parameters:
  - description: "the <xref uid=\"com.microsoft.azure.sdk.iot.provisioning.service.configs.IndividualEnrollment\" data-throw-if-not-resolved=\"false\">IndividualEnrollment</xref> object that describes the individualEnrollment that will be created of\n                   updated. It cannot be <code>null</code>."
    name: "individualEnrollment"
    type: "<xref href=\"com.microsoft.azure.sdk.iot.provisioning.service.configs.IndividualEnrollment?alt=com.microsoft.azure.sdk.iot.provisioning.service.configs.IndividualEnrollment&text=IndividualEnrollment\" data-throw-if-not-resolved=\"False\" />"
  syntax: "public IndividualEnrollment createOrUpdateIndividualEnrollment(IndividualEnrollment individualEnrollment)"
  exceptions:
  - description: "if the provided parameter is not correct."
    type: "<xref href=\"com.microsoft.azure.sdk.iot.provisioning.service.exceptions.ProvisioningServiceClientException?alt=com.microsoft.azure.sdk.iot.provisioning.service.exceptions.ProvisioningServiceClientException&text=ProvisioningServiceClientException\" data-throw-if-not-resolved=\"False\" />"
  returns:
    description: "An <xref uid=\"com.microsoft.azure.sdk.iot.provisioning.service.configs.IndividualEnrollment\" data-throw-if-not-resolved=\"false\">IndividualEnrollment</xref> object with the result of the create or update requested."
    type: "<xref href=\"com.microsoft.azure.sdk.iot.provisioning.service.configs.IndividualEnrollment?alt=com.microsoft.azure.sdk.iot.provisioning.service.configs.IndividualEnrollment&text=IndividualEnrollment\" data-throw-if-not-resolved=\"False\" />"
type: "method"
metadata: {}
package: "com.microsoft.azure.sdk.iot.provisioning.service"
artifact: com.microsoft.azure.sdk.iot.provisioning:provisioning-service-client-preview:1.1.0
