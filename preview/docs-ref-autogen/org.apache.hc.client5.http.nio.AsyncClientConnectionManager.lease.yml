### YamlMime:JavaMember
uid: "org.apache.hc.client5.http.nio.AsyncClientConnectionManager.lease*"
fullName: "org.apache.hc.client5.http.nio.AsyncClientConnectionManager.lease"
name: "lease"
nameWithType: "AsyncClientConnectionManager.lease"
members:
- uid: "org.apache.hc.client5.http.nio.AsyncClientConnectionManager.lease(java.lang.String,org.apache.hc.client5.http.HttpRoute,java.lang.Object,org.apache.hc.core5.util.Timeout,org.apache.hc.core5.concurrent.FutureCallback<org.apache.hc.client5.http.nio.AsyncConnectionEndpoint>)"
  fullName: "org.apache.hc.client5.http.nio.AsyncClientConnectionManager.lease(String id, HttpRoute route, Object state, Timeout requestTimeout, FutureCallback<AsyncConnectionEndpoint> callback)"
  name: "lease(String id, HttpRoute route, Object state, Timeout requestTimeout, FutureCallback<AsyncConnectionEndpoint> callback)"
  nameWithType: "AsyncClientConnectionManager.lease(String id, HttpRoute route, Object state, Timeout requestTimeout, FutureCallback<AsyncConnectionEndpoint> callback)"
  summary: "Returns a <xref uid=\"java.util.concurrent.Future\" data-throw-if-not-resolved=\"false\" data-raw-source=\"Future\"></xref> object which can be used to obtain an <xref uid=\"org.apache.hc.client5.http.nio.AsyncConnectionEndpoint\" data-throw-if-not-resolved=\"false\" data-raw-source=\"AsyncConnectionEndpoint\"></xref> or to cancel the request by calling <xref uid=\"java.util.concurrent.Future.cancel*\" data-throw-if-not-resolved=\"false\" data-raw-source=\"Future#cancel(boolean)\"></xref>.\n\nPlease note that newly allocated endpoints can be leased <xref uid=\"org.apache.hc.client5.http.nio.AsyncConnectionEndpoint.isConnected()\" data-throw-if-not-resolved=\"false\" data-raw-source=\"disconnected\"></xref>. The consumer of the endpoint is responsible for fully establishing the route to the endpoint target by calling <xref uid=\"#connect(AsyncConnectionEndpoint,\n ConnectionInitiator, Timeout, Object, HttpContext, FutureCallback)\" data-throw-if-not-resolved=\"false\" data-raw-source=\"#connect(AsyncConnectionEndpoint,\n ConnectionInitiator, Timeout, Object, HttpContext, FutureCallback)\"></xref> in order to connect directly to the target or to the first proxy hop, and optionally calling <xref uid=\"org.apache.hc.client5.http.nio.AsyncClientConnectionManager.upgrade(org.apache.hc.client5.http.nio.AsyncConnectionEndpoint,java.lang.Object,org.apache.hc.core5.http.protocol.HttpContext)\" data-throw-if-not-resolved=\"false\" data-raw-source=\"#upgrade(AsyncConnectionEndpoint, Object, HttpContext)\"></xref> method to upgrade the underlying transport to Transport Layer Security after having executed a `CONNECT` method to all intermediate proxy hops."
  parameters:
  - description: "unique operation ID or <code>null</code>."
    name: "id"
    type: "<xref href=\"java.lang.String?alt=java.lang.String&text=String\" data-throw-if-not-resolved=\"False\" />"
  - description: "HTTP route of the requested connection."
    name: "route"
    type: "<xref href=\"org.apache.hc.client5.http.HttpRoute?alt=org.apache.hc.client5.http.HttpRoute&text=HttpRoute\" data-throw-if-not-resolved=\"False\" />"
  - description: "expected state of the connection or <code>null</code>\n              if the connection is not expected to carry any state."
    name: "state"
    type: "<xref href=\"java.lang.Object?alt=java.lang.Object&text=Object\" data-throw-if-not-resolved=\"False\" />"
  - description: "lease request timeout."
    name: "requestTimeout"
    type: "<xref href=\"org.apache.hc.core5.util.Timeout?alt=org.apache.hc.core5.util.Timeout&text=Timeout\" data-throw-if-not-resolved=\"False\" />"
  - description: "result callback."
    name: "callback"
    type: "<xref href=\"org.apache.hc.core5.concurrent.FutureCallback?alt=org.apache.hc.core5.concurrent.FutureCallback&text=FutureCallback\" data-throw-if-not-resolved=\"False\" />&lt;<xref href=\"org.apache.hc.client5.http.nio.AsyncConnectionEndpoint?alt=org.apache.hc.client5.http.nio.AsyncConnectionEndpoint&text=AsyncConnectionEndpoint\" data-throw-if-not-resolved=\"False\" />&gt;"
  syntax: "public abstract Future<AsyncConnectionEndpoint> lease(String id, HttpRoute route, Object state, Timeout requestTimeout, FutureCallback<AsyncConnectionEndpoint> callback)"
  returns:
    type: "<xref href=\"java.util.concurrent.Future?alt=java.util.concurrent.Future&text=Future\" data-throw-if-not-resolved=\"False\" />&lt;<xref href=\"org.apache.hc.client5.http.nio.AsyncConnectionEndpoint?alt=org.apache.hc.client5.http.nio.AsyncConnectionEndpoint&text=AsyncConnectionEndpoint\" data-throw-if-not-resolved=\"False\" />&gt;"
type: "method"
metadata: {}
package: "org.apache.hc.client5.http.nio"
artifact: com.azure:azure-security-keyvault-jca:1.0.0-beta.2
